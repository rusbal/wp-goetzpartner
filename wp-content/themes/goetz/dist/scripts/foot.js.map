{"version":3,"sources":["../assets/scripts/foot/post-type.js","../assets/scripts/jquery.prettyPhoto.js"],"names":["jQuery","document","ready","$","launchFullscreen","element","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","fn","exists","this","length","loaded","callback","jointCallback","ensureCallback","len","each","el","$el","on","event","off","call","complete","undefined","trigger","src","$body","$window","window","$mainSlider","height","hasClass","parseInt","css","HoverDir","options","_init","defaults","speed","easing","hoverDelay","inverse","prototype","extend","transitionProp","support","Modernizr","csstransitions","_loadEvents","self","$hoverElem","find","direction","_getDir","x","pageX","y","pageY","styleCSS","_getStyle","type","hide","from","clearTimeout","tmhover","setTimeout","show","_applyAnimation","to","coordinates","w","width","h","offset","left","top","Math","round","atan2","PI","fromStyle","toStyle","slideFromTop","slideFromBottom","slideFromLeft","slideFromRight","slideTop","slideLeft","applyStyle","animate","stop","duration","logError","message","console","error","hoverdir","instance","data","args","Array","slice","arguments","isFunction","charAt","apply","hoverLinks","$img","appendTo","mouseenter","children","a","addClass","mouseleave","removeClass","forwardToPost","$this","parents","location","href","first","attr","touchforwardToPost","e","origY","originalEvent","touches","origX","touchEX","changedTouches","touchEY","preventDefault","parent","prev","followCurentLink","$thisSingleLink","$thisCategory","$thisTarget","open","click","stopPropagation","touchHoverImage","touchScrollerImage","$thisButtonLink","touchHoverLinks","triggerAlbumsClick","alreadyTriggered","triggerHoverClick","$targetClick","$thisLink","target","smartGrid","colNum","colMinWidth","contWidth","floor","toFixed","display","$benLogColl","$photoScroller","photoSlider","checkKeyPressed","keyCode","$sliderData","noSlide","slidePrev","slideNext","slides","thumbs","$elParent","$items","count","i","$slide","remove","$thumbImg","thumbSrc","thumbDataSrc","thumbClass","$layzrBg","$thisCaptionClone","clone","append","thisWidth","thisHeight","prepend","wrap","$slider","windowW","$sliderPar","$sliderAutoslide","$sliderAutoslideDelay","$sliderLoop","$thumbHeight","$slideOpacity","dataLsMin","dataLsMax","dataLsFillDt","dataLsFillMob","dataPtMin","dataPtMax","dataPtFillDt","dataPtFillMob","dataSidePaddings","opacity","$slideTopPadding","$slideBottomPadding","$sliderVP","margin-top","margin-bottom","thePhotoSlider","mode","lsMinW","lsMaxW","ptMinW","ptMaxW","$windowH","$adminBarH","$headerH","innerWidth","dtLocal","themeSettings","mobileHeader","secondSwitchPoint","firstSwitchPoint","sidePaddings","autoPlay","enabled","delay","loop","$thumbsScroller","after","$thumbsScrollerData","$this_par","ev","lockRight","lockLeft","addEventListener","eq","currSlide","actCaption","viewportLeft","_unifiedX","viewportRight","targetLeft","position","targetRight","tempViewportLeft","tempViewportRight","slideTo","layzrInitialisation","st","pause","play","dtGlobals","isWindowsPhone","$thisParent","fullscreen","mozFullScreen","webkitIsFullScreen","scroller","$frame","update","documentElement","bottom","portholeSlider","container","hendheld","isMobile","portholeScroller","$sliderAutoslideEnable","$sliderWidth","$sliderHight","imgMode","resizeImg","imageScaleMode","imageAlignCenter","$psThumb","$progressWrap","next","$progressHtml","newPos","transform","dtResizeTimeout","insertAfter","collagePlus","resizeRow","obj","row","settings","rownum","imageExtras","padding","albumWidthAdjusted","albumWidth","overPercent","trackWidth","lastRow","$obj","fw","fh","isNotLast","allowPartialLastRow","is","not","applyModifications","settingsDisplay","vertical-align","overflow","getImgProperty","img","params","parseFloat","targetHeight","images","fadeSpeed","effect","elements","index","imgParams","nw","ceil","nh","push","jgCounter","$jgContainer","$jgItemsPadding","Layzr","selector","attrSrcSet","retinaAttr","threshold","before","setAttribute","classList","add","one","collage","$jgItems","jgPadding","jgTargetHeight","jdPartRow","jgAlbumWidth","$jgCont","jGrid","$visibleItems","getHashtag","url","hashtag","indexOf","decodeURI","substring","replace","setHashtag","theRel","hash","rel_index","clearHashtag","getParam","name","regexS","regex","RegExp","results","exec","prettyPhoto","version","pp_settings","_showContent","projectedTop","scroll_pos","windowHeight","pp_dimensions","$ppt","fadeTo","animation_speed","$pp_pic_holder","windowWidth","fadeIn","isSet","_getFileType","pp_images","set_position","allow_expand","autoplay_slideshow","pp_slideshow","pp_open","startSlideshow","changepicturecallback","_insert_gallery","ajaxcallback","_hideContent","fadeOut","_checkPosition","setCount","_fitToViewport","resized","_getDimensions","imageWidth","imageHeight","pp_containerWidth","pp_containerHeight","doresize","allow_resize","percentBased","fitting","containerHeight","containerWidth","horizontal_padding","contentHeight","pp_contentHeight","contentWidth","pp_contentWidth","$pp_details","detailsHeight","theme","$pp_title","titleHeight","itemSrc","match","substr","_center_overlay","_get_scroll","contentwidth","pageYOffset","scrollTop","scrollLeft","pageXOffset","body","_resize_overlay","$pp_overlay","overlay_gallery","itemWidth","navWidth","itemsPerPage","totalPage","$pp_gallery","galleryWidth","fullGalleryWidth","goToPage","changeGalleryPage","$pp_gallery_li","filter","unbind","_build_overlay","caller","social_tools","facebook_like_link","encodeURIComponent","markup","currentGalleryPage","toInject","classname","img_src","gallery_markup","stopSlideshow","hover","changePage","slideshow","bind","modal","close","hook","show_title","default_width","default_height","counter_separator_label","hideflash","wmode","autoplay","deeplinking","overlay_gallery_max","keyboard_shortcuts","ie6_fallback","image_markup","flash_markup","quicktime_markup","iframe_markup","inline_markup","custom_markup","matchedObjects","initialize","galleryRegExp","map","n","makeArray","pp_titles","pp_descriptions","inArray","size","html","text","unescape","movie_width","toString","movie_height","imgPreloader","skipInjection","Image","nextImage","prevImage","innerHTML","onload","onerror","alert","movie_id","split","movie","regExp","vimeo_width","flash_vars","filename","frame_url","get","responseHTML","myClone","wrapInner","slide_speed","slide_to","setInterval","clearInterval","pp_alreadyInitialized","hashIndex","hashRel"],"mappings":"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","file":"foot.js","sourcesContent":["\n/*3D slideshow*/\njQuery(document).ready(function($){\n\t \n\t$.fn.exists = function() {\n\t\tif ($(this).length > 0) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/* !- Check if element is loaded */\n\t$.fn.loaded = function(callback, jointCallback, ensureCallback){\n\t\tvar len\t= this.length;\n\t\tif (len > 0) {\n\t\t\treturn this.each(function() {\n\t\t\t\tvar\tel\t\t= this,\n\t\t\t\t\t$el\t\t= $(el),\n\t\t\t\t\tblank\t= \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\";\n\n\t\t\t\t$el.on(\"load.dt\", function(event) {\n\t\t\t\t\t$(this).off(\"load.dt\");\n\t\t\t\t\tif (typeof callback == \"function\") {\n\t\t\t\t\t\tcallback.call(this);\n\t\t\t\t\t}\n\t\t\t\t\tif (--len <= 0 && (typeof jointCallback == \"function\")){\n\t\t\t\t\t\tjointCallback.call(this);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!el.complete || el.complete === undefined) {\n\t\t\t\t\tel.src = el.src;\n\t\t\t\t} else {\n\t\t\t\t\t$el.trigger(\"load.dt\")\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (ensureCallback) {\n\t\t\tif (typeof jointCallback == \"function\") {\n\t\t\t\tjointCallback.call(this);\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t};\n\t\n\tvar $body = $(\"body\"),\n        $window = $(window),\n\t\t$mainSlider = $('#main-slideshow'),\n\t\t$3DSlider = $('.three-d-slider'),\n\t\tadminH = $('#wpadminbar').height(),\n\t\theader = $('.masthead:not(.side-header):not(.side-header-v-stroke)').height();\n\t\t\n\tif($body.hasClass(\"transparent\")){\n\t\tvar headerH = 0;\n\t}else if($body.hasClass(\"overlap\")){\n\t\tvar headerH = ($('.masthead:not(.side-header):not(.side-header-v-stroke)').height() + (parseInt($mainSlider.css(\"marginTop\")) + parseInt($mainSlider.css(\"marginBottom\")) ));\n\t}else{\n\t\tvar headerH = $('.masthead:not(.side-header):not(.side-header-v-stroke)').height();\n\t}\n\t\n\n\n/**\n * jquery.hoverdir.js v1.1.0\n * http://www.codrops.com\n *\n * Licensed under the MIT license.\n * http://www.opensource.org/licenses/mit-license.php\n * \n * Copyright 2012, Codrops\n * http://www.codrops.com\n */\n\n    \n    'use strict';\n\n    $.HoverDir = function( options, element ) {\n        \n        this.$el = $( element );\n        this._init( options );\n\n    };\n\n    // the options\n    $.HoverDir.defaults = {\n        speed : 300,\n        easing : 'ease',\n        hoverDelay : 0,\n        inverse : false\n    };\n\n    $.HoverDir.prototype = {\n\n        _init : function( options ) {\n            \n            // options\n            this.options = $.extend( true, {}, $.HoverDir.defaults, options );\n            // transition properties\n            this.transitionProp = 'all ' + this.options.speed + 'ms ' + this.options.easing;\n            // support for CSS transitions\n            this.support = Modernizr.csstransitions;\n            // load the events\n            this._loadEvents();\n\n        },\n        \n        _loadEvents : function() {\n\n            var self = this;\n            \n            this.$el.on( 'mouseenter.hoverdir, mouseleave.hoverdir', function( event ) {\n                \n                var $el = $( this ),\n                    $hoverElem = $el.find( '.rollover-content' ),\n                    direction = self._getDir( $el, { x : event.pageX, y : event.pageY } ),\n                    styleCSS = self._getStyle( direction );\n                \n                if( event.type === 'mouseenter' ) {\n                    \n                    $hoverElem.hide().css( styleCSS.from );\n                    clearTimeout( self.tmhover );\n\n                    self.tmhover = setTimeout( function() {\n                        \n                        $hoverElem.show( 0, function() {\n                            \n                            var $el = $( this );\n                            if( self.support ) {\n                                $el.css( 'transition', self.transitionProp );\n                            }\n                            self._applyAnimation( $el, styleCSS.to, self.options.speed );\n\n                        } );\n                        \n                    \n                    }, self.options.hoverDelay );\n                    \n                }\n                else {\n                \n                    if( self.support ) {\n                        $hoverElem.css( 'transition', self.transitionProp );\n                    }\n                    clearTimeout( self.tmhover );\n                    self._applyAnimation( $hoverElem, styleCSS.from, self.options.speed );\n                    \n                }\n                    \n            } );\n\n        },\n        // credits : http://stackoverflow.com/a/3647634\n        _getDir : function( $el, coordinates ) {\n            \n            // the width and height of the current div\n            var w = $el.width(),\n                h = $el.height(),\n\n                // calculate the x and y to get an angle to the center of the div from that x and y.\n                // gets the x value relative to the center of the DIV and \"normalize\" it\n                x = ( coordinates.x - $el.offset().left - ( w/2 )) * ( w > h ? ( h/w ) : 1 ),\n                y = ( coordinates.y - $el.offset().top  - ( h/2 )) * ( h > w ? ( w/h ) : 1 ),\n            \n                // the angle and the direction from where the mouse came in/went out clockwise (TRBL=0123);\n                // first calculate the angle of the point,\n                // add 180 deg to get rid of the negative values\n                // divide by 90 to get the quadrant\n                // add 3 and do a modulo by 4  to shift the quadrants to a proper clockwise TRBL (top/right/bottom/left) **/\n                direction = Math.round( ( ( ( Math.atan2(y, x) * (180 / Math.PI) ) + 180 ) / 90 ) + 3 ) % 4;\n            \n            return direction;\n            \n        },\n        _getStyle : function( direction ) {\n            \n            var fromStyle, toStyle,\n                slideFromTop = { left : '0px', top : '-100%' },\n                slideFromBottom = { left : '0px', top : '100%' },\n                slideFromLeft = { left : '-100%', top : '0px' },\n                slideFromRight = { left : '100%', top : '0px' },\n                slideTop = { top : '0px' },\n                slideLeft = { left : '0px' };\n            \n            switch( direction ) {\n                case 0:\n                    // from top\n                    fromStyle = !this.options.inverse ? slideFromTop : slideFromBottom;\n                    toStyle = slideTop;\n                    break;\n                case 1:\n                    // from right\n                    fromStyle = !this.options.inverse ? slideFromRight : slideFromLeft;\n                    toStyle = slideLeft;\n                    break;\n                case 2:\n                    // from bottom\n                    fromStyle = !this.options.inverse ? slideFromBottom : slideFromTop;\n                    toStyle = slideTop;\n                    break;\n                case 3:\n                    // from left\n                    fromStyle = !this.options.inverse ? slideFromLeft : slideFromRight;\n                    toStyle = slideLeft;\n                    break;\n            };\n            \n            return { from : fromStyle, to : toStyle };\n                    \n        },\n        // apply a transition or fallback to jquery animate based on Modernizr.csstransitions support\n        _applyAnimation : function( el, styleCSS, speed ) {\n\n            $.fn.applyStyle = this.support ? $.fn.css : $.fn.animate;\n            el.stop().applyStyle( styleCSS, $.extend( true, [], { duration : speed + 'ms' } ) );\n\n        },\n\n    };\n    \n    var logError = function( message ) {\n\n        if ( window.console ) {\n\n            window.console.error( message );\n        \n        }\n\n    };\n    \n    $.fn.hoverdir = function( options ) {\n\n        var instance = $.data( this, 'hoverdir' );\n        \n        if ( typeof options === 'string' ) {\n            \n            var args = Array.prototype.slice.call( arguments, 1 );\n            \n            this.each(function() {\n            \n                if ( !instance ) {\n\n                    logError( \"cannot call methods on hoverdir prior to initialization; \" +\n                    \"attempted to call method '\" + options + \"'\" );\n                    return;\n                \n                }\n                \n                if ( !$.isFunction( instance[options] ) || options.charAt(0) === \"_\" ) {\n\n                    logError( \"no such method '\" + options + \"' for hoverdir instance\" );\n                    return;\n                \n                }\n                \n                instance[ options ].apply( instance, args );\n            \n            });\n        \n        } \n        else {\n        \n            this.each(function() {\n                \n                if ( instance ) {\n\n                    instance._init();\n                \n                }\n                else {\n\n                    instance = $.data( this, 'hoverdir', new $.HoverDir( options, this ) );\n                \n                }\n\n            });\n        \n        }\n        \n        return instance;\n        \n    };\n    \n\n    /*!-Hover Direction aware init*/\n    $('.mobile-false .hover-grid .rollover-project').each( function() { $(this).hoverdir(); } );\n    $('.mobile-false .hover-grid-reverse .rollover-project ').each( function() { $(this).hoverdir({\n        inverse : true\n    }); } );\n\n    /*!Append tag </span> for portfolio round links button*/\n    $.fn.hoverLinks = function() {\n        if($(\".semitransparent-portfolio-icons\").length > 0 || $(\".accent-portfolio-icons\").length > 0){\n            return this.each(function() {\n                var $img = $(this);\n                if ($img.hasClass(\"height-ready\")) {\n                    return;\n                }\n                $(\"<span/>\").appendTo($(this));\n\n                $img.on({\n                    mouseenter: function () {\n                        if (0 === $(this).children(\"span\").length) {\n                            var a = $(\"<span/>\").appendTo($(this));\n                            setTimeout(function () {\n                                a.addClass(\"icon-hover\")\n                            }, 20)\n                        } else $(this).children(\"span\").addClass(\"icon-hover\")\n                    },\n                    mouseleave: function () {\n                        $(this).children(\"span\").removeClass(\"icon-hover\")\n                    }\n                });\n\n                $img.addClass(\"height-ready\");\n            });\n        }\n    };\n    $(\".links-container a\").hoverLinks();\n    /*!Trigger click (direct to post) */\n    $.fn.forwardToPost = function() {\n        return this.each(function() {\n            var $this = $(this);\n            if ($this.hasClass(\"this-ready\")) {\n                return;\n            };\n            $this.on(\"click\", function(){\n                if ($this.parents(\".ts-wrap\").hasClass(\"ts-interceptClicks\")) return;\n                window.location.href = $this.find(\"a\").first().attr(\"href\");\n                return false;\n            });\n            $this.addClass(\"this-ready\");\n        });\n    };\n    $(\".mobile-false .rollover-project.forward-post\").forwardToPost();\n\n    $.fn.touchforwardToPost = function() {\n        return this.each(function() {\n            var $this = $(this);\n            if ($this.hasClass(\"touch-hover-ready\")) {\n                return;\n            }\n\n            $body.on(\"touchend\", function(e) {\n                $(\".mobile-true .rollover-content\").removeClass(\"is-clicked\");\n                $(\".mobile-true .rollover-project\").removeClass(\"is-clicked\");\n            });\n            var $this = $(this).find(\".rollover-content\");\n            $this.on(\"touchstart\", function(e) { \n                origY = e.originalEvent.touches[0].pageY;\n                origX = e.originalEvent.touches[0].pageX;\n            });\n            $this.on(\"touchend\", function(e) {\n                var touchEX = e.originalEvent.changedTouches[0].pageX,\n                    touchEY = e.originalEvent.changedTouches[0].pageY;\n                if( origY == touchEY || origX == touchEX ){\n                    if ($this.hasClass(\"is-clicked\")) {\n                            window.location.href = $this.prev(\"a\").first().attr(\"href\");\n                    } else {\n                        e.preventDefault();\n                        $(\".mobile-ture .rollover-content\").removeClass(\"is-clicked\");\n                        $(\".mobile-true .rollover-project\").removeClass(\"is-clicked\");\n                        $this.addClass(\"is-clicked\");\n                        $this.parent(\".rollover-project\").addClass(\"is-clicked\");\n                        return false;\n                    };\n                };\n            });\n\n            $this.addClass(\"touch-hover-ready\");\n        });\n    };\n    $(\".mobile-true .rollover-project.forward-post\").touchforwardToPost();\n\n    /*!Trigger click on portfolio hover buttons */\n    $.fn.followCurentLink = function() {\n        return this.each(function() {\n            var $this = $(this);\n            if ($this.hasClass(\"this-ready\")) {\n                return;\n            }\n\n            var $thisSingleLink = $this.find(\".links-container > a\"),\n                $thisCategory = $this.find(\".portfolio-categories a\");\n                \n            $this.on(\"click\", function(){\n                if ($this.parents(\".ts-wrap\").hasClass(\"ts-interceptClicks\")) return;\n\n                $thisSingleLink.each(function(){\n                    $thisTarget = $(this).attr(\"target\") ? $(this).attr(\"target\") : \"_self\";\n                });\n\n                if($thisSingleLink.hasClass(\"project-details\") || $thisSingleLink.hasClass(\"link\") || $thisSingleLink.hasClass(\"project-link\")){\n                    window.open($thisSingleLink.attr(\"href\"), $thisTarget);\n                    return false;\n\n                }else{\n                    $thisSingleLink.trigger(\"click\");\n                    return false;\n                }\n            });\n\n            $this.find($thisCategory).click(function(e) {\n                 e.stopPropagation();\n                window.location.href = $thisCategory.attr('href');\n            });\n            $this.addClass(\"this-ready\");\n        });\n    };\n    $(\".mobile-false .rollover-project.rollover-active, .mobile-false .buttons-on-img.rollover-active\").followCurentLink();\n\n    $.fn.touchHoverImage = function() {\n        return this.each(function() {\n            var $img = $(this);\n            if ($img.hasClass(\"hover-ready\")) {\n                return;\n            }\n\n            $body.on(\"touchend\", function(e) {\n                $(\".mobile-true .rollover-content\").removeClass(\"is-clicked\");\n            });\n            var $this = $(this).find(\".rollover-content\"),\n                thisPar = $this.parents(\".wf-cell\");\n            $this.on(\"touchstart\", function(e) { \n                origY = e.originalEvent.touches[0].pageY;\n                origX = e.originalEvent.touches[0].pageX;\n            });\n            $this.on(\"touchend\", function(e) {\n                var touchEX = e.originalEvent.changedTouches[0].pageX,\n                    touchEY = e.originalEvent.changedTouches[0].pageY;\n                if( origY == touchEY || origX == touchEX ){\n                    if ($this.hasClass(\"is-clicked\")) {\n                    } else {\n\n                        $('.links-container > a', $this).on('touchend', function(e) {\n                            e.stopPropagation();\n                            $this.addClass(\"is-clicked\");\n                        });\n                        e.preventDefault();\n                        $(\".mobile-true .buttons-on-img .rollover-content\").removeClass(\"is-clicked\");\n                        $this.addClass(\"is-clicked\");\n                        return false;\n                    };\n                };\n            });\n\n            $img.addClass(\"hover-ready\");\n        });\n    };\n    $(\".mobile-true .buttons-on-img\").touchHoverImage();\n   \n    $.fn.touchScrollerImage = function() {\n        return this.each(function() {\n            var $img = $(this);\n            if ($img.hasClass(\"hover-ready\")) {\n                return;\n            }\n\n            $body.on(\"touchend\", function(e) {\n                $(\".mobile-true .project-list-media\").removeClass(\"is-clicked\");\n            });\n            var $this = $(this),\n                $thisSingleLink = $this.find(\"a.rollover-click-target\").first(),\n                $thisButtonLink = $this.find(\".links-container\");\n            $this.on(\"touchstart\", function(e) { \n                origY = e.originalEvent.touches[0].pageY;\n                origX = e.originalEvent.touches[0].pageX;\n            });\n            $this.on(\"touchend\", function(e) {\n                var touchEX = e.originalEvent.changedTouches[0].pageX,\n                    touchEY = e.originalEvent.changedTouches[0].pageY;\n                if ($this.parents(\".ts-wrap\").hasClass(\"ts-interceptClicks\")) return;\n                if( origY == touchEY || origX == touchEX ){\n                    if ($this.hasClass(\"is-clicked\")) {\n                            \n                    } else {\n                        if($thisSingleLink.length > 0){\n                            $thisSingleLink.on(\"click\", function(event) {\n                                event.stopPropagation();\n\n                                if ( $(this).hasClass('go-to') ) {\n                                    window.location.href = $(this).attr('href');\n                                }\n                            });\n                            $thisSingleLink.trigger(\"click\");\n                        };\n                        if($thisButtonLink.length > 0){\n                            $thisButtonLink.find(\" > a \").each(function(){\n                                $(this).on(\"touchend\", function(event) {\n                                    event.stopPropagation();\n                                    $(this).trigger(\"click\");\n                                });\n                            });\n                        }\n                        e.preventDefault();\n                        $(\".mobile-true .fs-entry\").removeClass(\"is-clicked\");\n                        $this.addClass(\"is-clicked\");\n                        return false;\n                    };\n                };\n            });\n\n            $img.addClass(\"hover-ready\");\n        });\n    };\n    $(\".mobile-true .project-list-media\").touchScrollerImage();\n\n    $.fn.touchHoverLinks = function() {\n        return this.each(function() {\n            var $img = $(this);\n            if ($img.hasClass(\"hover-ready\")) {\n                return;\n            }\n\n            var $this = $(this);\n            $this.on(\"touchend\", function(e) {\n                if ($this.parents(\".ts-wrap\").hasClass(\"ts-interceptClicks\")) return;\n                if ($this.hasClass(\"is-clicked\")) {\n                    return;\n                } else {\n\n                    if( $this.hasClass(\"project-zoom\") ) {\n                        $this.trigger(\"click\");\n                    }else {\n                        window.location.href = $this.attr(\"href\");\n                        return false;\n                    };\n\n                    $(\".mobile-true .links-container > a\").removeClass(\"is-clicked\");\n                    $this.addClass(\"is-clicked\");\n                    return false;\n                };\n            });\n\n            $img.addClass(\"hover-ready\");\n        });\n    };\n    $(\".mobile-true .fs-entry .links-container > a\").touchHoverLinks();\n\n    /*!Trigger albums click */\n    $.fn.triggerAlbumsClick = function() {\n        return this.each(function() {\n            var $this = $(this);\n            if ($this.hasClass(\"this-ready\")) {\n                return;\n            }\n\n            var $thisSingleLink = $this.find(\"a.rollover-click-target, .dt-mfp-item\").first(),\n                $thisCategory = $this.find(\".portfolio-categories a\");\n\n            if( $thisSingleLink.length > 0 ){\n                $thisSingleLink.on(\"click\", function(event) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                     if ($thisSingleLink.parents(\".ts-wrap\").hasClass(\"ts-interceptClicks\")) return;\n\n                    if ( $(this).hasClass('go-to') ) {\n                        window.location.href = $(this).attr('href');\n                    }\n                });\n\n                var alreadyTriggered = false;\n\n                $this.on(\"click\", function(){\n\n                    if ($this.parents(\".ts-wrap\").hasClass(\"ts-interceptClicks\")) return;\n\n                    if ( !alreadyTriggered ) {\n                        alreadyTriggered = true;\n                        $thisSingleLink.trigger(\"click\");\n                        \n                        alreadyTriggered = false;\n                    }\n                    return false;\n                })\n                $this.find($thisCategory).click(function(e) {\n\n                     e.stopPropagation();\n                    window.location.href = $thisCategory.attr('href');\n                });\n            }\n            $this.addClass(\"this-ready\");\n        });\n    };\n    $(\".dt-albums-template .rollover-project, .dt-albums-shortcode .rollover-project, .dt-albums-template .buttons-on-img, .dt-albums-shortcode .buttons-on-img, .archive .type-dt_gallery .buttons-on-img\").triggerAlbumsClick();\n\n        /*!Trigger rollover click*/\n    \n    $.fn.triggerHoverClick = function() {\n        return this.each(function() {\n            var $this = $(this);\n            if ($this.hasClass(\"click-ready\")) {\n                return;\n            }\n\n            var $thisSingleLink = $this.prev(\"a:not(.dt-single-mfp-popup):not(.dt-mfp-item)\").first(),\n                $thisCategory = $this.find(\".portfolio-categories a\"),\n                $thisLink = $this.find(\".project-link\"),\n                $thisTarget = $thisLink.attr(\"target\") ? $thisLink.attr(\"target\") : \"_self\",\n                $targetClick;\n                \n\n            if( $thisSingleLink.length > 0 ){\n            \n\n                var alreadyTriggered = false;\n\n                $this.on(\"click\", function(e){\n\n                    if ($this.parents(\".ts-wrap\").hasClass(\"ts-interceptClicks\")) return;\n\n                    if($(\".semitransparent-portfolio-icons\").length > 0 || $(\".accent-portfolio-icons\").length > 0){\n                        $targetClick = $(e.target).parent();\n                    }else{\n                        $targetClick = $(e.target);\n                    }\n                    if($targetClick.hasClass(\"project-zoom\")){\n\n                        //console.log(( \"clicked: \" + $(e.target).parent().attr(\"class\") )\n                        $(this).find(\"a.dt-gallery-mfp-popup, .dt-trigger-first-mfp, .dt-single-mfp-popup, .dt-mfp-item\").first().trigger('click');\n                    }else{\n                        if ( !alreadyTriggered ) {\n                            alreadyTriggered = true;\n                            $thisSingleLink.trigger(\"click\");\n                            window.location.href = $thisSingleLink.attr('href');\n                            \n                            alreadyTriggered = false;\n                        }\n                    }\n                    return false;\n                })\n                $this.find($thisLink).click(function(e) {\n                     e.stopPropagation();\n                     e.preventDefault();\n                    window.open($thisLink.attr(\"href\"), $thisTarget);\n                });\n\n                $this.find($thisCategory).click(function(e) {\n                     e.stopPropagation();\n                    window.location.href = $thisCategory.attr('href');\n                });\n            }\n            $this.addClass(\"click-ready\");\n        });\n    };\n    $(\".mobile-false .rollover-project:not(.rollover-active) .rollover-content, .buttons-on-img:not(.rollover-active) .rollover-content\").triggerHoverClick();\n   \n\n    /* !-Smart benefits & logos resize */\n        $.fn.smartGrid = function() {\n            return this.each(function() {\n                var $this = $(this),\n                    colNum = parseInt($this.attr(\"data-columns\")),\n                    colMinWidth = parseInt($this.attr(\"data-width\")),\n                    contWidth = $this.width();\n\n                for ( ; Math.floor(contWidth/colNum) < colMinWidth; ) {\n                    colNum--;\n                    if (colNum <= 1) break;\n                }\n\n                $(\"> .wf-cell\", $this).css({\n                    width: (100/colNum).toFixed(6) + \"%\",\n                    display: \"inline-block\"\n                });\n            });\n        };\n\n        var $benLogColl = $(\".benefits-grid, .logos-grid\");\n        $benLogColl.smartGrid();\n        $window.on(\"debouncedresize\", function () {\n            $benLogColl.smartGrid();\n        });\n\n    /*!Instagram style photos*/\n\n    // $.fn.calcPics = function() {\n    //         var $collection = $(\".instagram-photos\");\n    //         if ($collection.length < 1) return false;\n\n    //         return this.each(function() {\n    //             var maxitemwidth = maxitemwidth ? maxitemwidth : parseInt($(this).attr(\"data-image-max-width\")),\n    //                 itemmarg = parseInt($(this).find(\"> a\").css(\"margin-left\"));\n    //             $(this).find(\" > a\").css({\n    //                 \"max-width\": maxitemwidth,\n    //                 \"opacity\": 1\n    //             });\n\n    //             // Cahce everything\n    //             var $container = $(this),\n    //                 containerwidth = $container.width(),\n    //                 itemperc = (100/(Math.ceil(containerwidth/maxitemwidth)));\n            \n    //             $container.find(\"a\").css({ \"width\": itemperc+'%' });\n    //     });\n    // };\n    // $(\".instagram-photos\").calcPics();\n\n    //     /*!-Project floating content*/\n    // var $floatContent = $(\".floating-content\"),\n    //     projectPost = $(\".project-post\");\n    // var $parentHeight,\n    //     $floatContentHeight,\n    //     phantomHeight = 0;\n\n    //var $scrollHeight;\n\n    // function setFloatinProjectContent() {\n    //     $(\".project-slider .preload-me\").loaded(null, function() {\n    //         var $sidebar = $(\".floating-content\");\n    //         if ($(\".floating-content\").length > 0) {\n    //             var offset = $sidebar.offset();\n    //             if($(\".top-bar\").length > 0 && $(\".phantom-sticky\").length > 0){\n    //                 var topBarH = $(\".top-bar\").height();\n    //             }else{\n    //                 var topBarH = 0;\n    //             }\n    //                 //$scrollHeight = $(\".project-post\").height();\n    //             var $scrollOffset = $(\".project-post\").offset();\n    //             //var $headerHeight = $phantom.height();\n    //             $window.on(\"scroll\", function () {\n    //                 if (window.innerWidth > 1050) {\n    //                     if (dtGlobals.winScrollTop + $phantom.height() > offset.top) {\n    //                         if (dtGlobals.winScrollTop + $phantom.height() + $floatContentHeight + 40 < $scrollOffset.top + $parentHeight) {\n    //                             $sidebar.stop().velocity({\n    //                                 translateY : dtGlobals.winScrollTop - offset.top + $phantom.height() - topBarH\n    //                             }, 300);\n    //                         } else {\n    //                             $sidebar.stop().velocity({\n    //                                 translateY: $parentHeight - $floatContentHeight - 40 - topBarH\n    //                             }, 300)\n    //                         }\n    //                     } else {\n    //                         $sidebar.stop().velocity({\n    //                             translateY: 0\n    //                         }, 300)\n    //                     }\n    //                 } else {\n    //                     $sidebar\n    //                         .css({\n    //                             \"transform\": \"translateY(0)\",\n    //                             \"-webkit-transform\" : \"translateY(0)\",\n    //                         });\n    //                 }\n    //             })\n    //         }\n    //     }, true);\n    // }\n    // setFloatinProjectContent();\n\n\n\n/* #Photo slider initialisation\n================================================== */\n// jQuery(document).ready(function($) {\n    var $photoScroller = $(\".photo-scroller\");\n    if($photoScroller.length > 0){\n        /* !Set slider */\n        $.fn.photoSlider = function() {\n            var $el = $(this),\n                slides = {},\n                thumbs = \"\";\n                $elParent = $el.parents(\".photo-scroller\");\n\n                slides.$items = $el.children(\"figure\");\n                slides.count = slides.$items.length;\n\n            slides.$items.each(function(i) {\n                var $this = $(this),\n                    $slide = $this.children().first().remove(),\n                    src = $slide.attr(\"href\"),\n                    $thumbImg = $slide.children(\"img\"),\n                    thumbSrc = $thumbImg.attr(\"src\"),\n                    thumbDataSrc = $thumbImg.attr(\"data-src\"),\n                    thumbDataSrcset = $thumbImg.attr(\"data-srcset\"),\n                    thumbClass = $thumbImg.attr(\"class\");\n                if($thumbImg.hasClass(\"lazy-load\")){\n                    var $layzrBg = \"layzr-bg\";\n                }else{\n                    var $layzrBg = \"\";\n                }\n\n                // !Captions copying\n                $this.find(\"figcaption\").addClass(\"caption-\" + (i+1) + \"\");\n                var $thisCaptionClone = $(this).find(\"figcaption\").clone(true);\n                $(\".slide-caption\").append($thisCaptionClone);\n                if (parseInt($elParent.attr(\"data-thumb-width\")) > 0) {\n                    var thisWidth = parseInt($elParent.attr(\"data-thumb-width\")),\n                        thisHeight = parseInt($elParent.attr(\"data-thumb-height\"));\n\n                    $elParent.removeClass(\"proportional-thumbs\");\n                }\n                else {\n                    var thisWidth = parseInt($thumbImg.attr(\"width\")),\n                        thisHeight = parseInt($thumbImg.attr(\"height\"));\n\n                    $elParent.addClass(\"proportional-thumbs\");\n                };\n\n                thumbs = thumbs + '<div class=\"ts-cell\" data-width=\"'+(thisWidth+5)+'\" data-height=\"'+(thisHeight+10)+'\"><div class=\"ts-thumb-img ' + $layzrBg +'\"><img class=\" '+thumbClass+'\" src=\"'+thumbSrc+'\" data-src=\"'+thumbDataSrc+'\" data-srcset=\"'+thumbDataSrc+'\" width=\"'+thisWidth+'\" height=\"'+thisHeight+'\"></div></div>';\n\n                $this.prepend('<div class=\"ts-slide-img\"><img src=\"'+src+'\" width=\"'+$this.attr(\"data-width\")+'\" height=\"'+$this.attr(\"data-height\")+'\"></div>');\n\n                \n            });\n            \n            $elParent.append('<div class=\"scroller-arrow prev\"><i></i><i></i></div><div class=\"scroller-arrow next\"><i></i><i></i></div>')\n\n            $el.addClass(\"ts-cont\");\n            $el.wrap('<div class=\"ts-wrap\"><div class=\"ts-viewport\"></div></div>');\n\n            var $slider = $el.parents(\".ts-wrap\"),\n                windowW = $window.width(),\n                $sliderPar = $elParent,\n                $sliderAutoslide = ($sliderPar.attr(\"data-autoslide\") == \"true\") ? true : false,\n                $sliderAutoslideDelay = ($sliderPar.attr(\"data-delay\") && parseInt($sliderPar.attr(\"data-delay\")) > 999) ? parseInt($sliderPar.attr(\"data-delay\")) : 5000,\n                $sliderLoop = ($sliderPar.attr(\"data-loop\") === \"true\") ? true : false,\n                $thumbHeight = $sliderPar.attr(\"data-thumb-height\") ? parseInt($sliderPar.attr(\"data-thumb-height\"))+10 : 80+10,\n                $slideOpacity = $sliderPar.attr(\"data-transparency\") ? $sliderPar.attr(\"data-transparency\") : 0.5,\n                $adminBarH = $(\"#wpadminbar\").length > 0? $(\"#wpadminbar\").height() : 0;\n\n            // !New settings for cells;\n            var dataLsMin = $sliderPar.attr(\"data-ls-min\") ? parseInt($sliderPar.attr(\"data-ls-min\")) : 0,\n                dataLsMax = $sliderPar.attr(\"data-ls-max\") ? parseInt($sliderPar.attr(\"data-ls-max\")) : 100,\n                dataLsFillDt = $sliderPar.attr(\"data-ls-fill-dt\") ? $sliderPar.attr(\"data-ls-fill-dt\") : \"fill\",\n                dataLsFillMob = $sliderPar.attr(\"data-ls-fill-mob\") ? $sliderPar.attr(\"data-ls-fill-mob\") : \"fit\",\n                dataPtMin = $sliderPar.attr(\"data-pt-min\") ? parseInt($sliderPar.attr(\"data-pt-min\")) : 0,\n                dataPtMax = $sliderPar.attr(\"data-pt-max\") ? parseInt($sliderPar.attr(\"data-pt-max\")) : 100,\n                dataPtFillDt = $sliderPar.attr(\"data-pt-fill-dt\") ? $sliderPar.attr(\"data-pt-fill-dt\") : \"fill\",\n                dataPtFillMob = $sliderPar.attr(\"data-pt-fill-mob\") ? $sliderPar.attr(\"data-pt-fill-mob\") : \"fit\",\n                dataSidePaddings  = $sliderPar.attr(\"data-padding-side\") ? parseInt($sliderPar.attr(\"data-padding-side\")) : 0;\n\n            // !Normalize new settings for cells;\n            if (dataLsMax <= 0) dataLsMax = 100;\n            if (dataPtMax <= 0) dataPtMax = 100;\n            if (dataLsMax < dataLsMax) dataLsMax = dataLsMax;\n            if (dataPtMax < dataPtMax) dataPtMax = dataPtMax;\n\n            $slider.addClass(\"ts-ls-\"+dataLsFillDt).addClass(\"ts-ls-mob-\"+dataLsFillMob);\n            $slider.addClass(\"ts-pt-\"+dataPtFillDt).addClass(\"ts-pt-mob-\"+dataPtFillMob);\n\n            $slider.find(\".ts-slide-img\").css({\n                \"opacity\": $slideOpacity\n            });\n            $slider.find(\".video-icon\").css({\n                \"opacity\": $slideOpacity\n            });\n\n\n            var $slideTopPadding = ($sliderPar.attr(\"data-padding-top\") && windowW > 760) ? $sliderPar.attr(\"data-padding-top\") : 0,\n                $slideBottomPadding = ($sliderPar.attr(\"data-padding-bottom\") && windowW > 760) ? $sliderPar.attr(\"data-padding-bottom\") : 0;\n\n            var $sliderVP = $slider.find(\".ts-viewport\");\n            $sliderVP.css({\n                \"margin-top\": $slideTopPadding+\"px\",\n                \"margin-bottom\": $slideBottomPadding+\"px\"\n            });\n            \n            $window.on(\"debouncedresize\", function() {\n                if ($sliderPar.attr(\"data-padding-top\") && $window.width() > 760) {\n                    $slideTopPadding = $sliderPar.attr(\"data-padding-top\");\n                }\n                else {\n                    $slideTopPadding = 0;\n                };\n\n                if ($sliderPar.attr(\"data-padding-bottom\") && $window.width() > 760) {\n                    $slideBottomPadding = $sliderPar.attr(\"data-padding-bottom\");\n                }\n                else {\n                    $slideBottomPadding = 0;\n                };\n\n                if ($window.width() > 760) {\n                    $sliderVP.css({\n                        \"margin-top\": $slideTopPadding+\"px\",\n                        \"margin-bottom\": $slideBottomPadding+\"px\"\n                    });\n                }\n                else {\n                    $sliderVP.css({\n                        \"margin-top\": 0+\"px\",\n                        \"margin-bottom\": 0+\"px\"\n                    });\n                };\n            });\n\n            /* !Initializinig the main slider */\n            var $sliderData = $slider.thePhotoSlider({\n                mode: {\n                    type: \"centered\",\n                    lsMinW: dataLsMin,\n                    lsMaxW: dataLsMax,\n                    ptMinW: dataPtMin,\n                    ptMaxW: dataPtMax,\n                },\n                height: function() {\n                    // if ($(window).width() < 760) {\n                    //  return (window.innerHeight);\n                    // }else \n                    var $windowH = $window.height(),\n                        $adminBarH = $(\"#wpadminbar\").height();\n                    if ($(\".mixed-header\").length > 0){\n                        var $headerH = $(\".mixed-header\").height();\n                    }else{                      \n                        var $headerH = $(\".masthead\").height();\n                    }\n                    if ($body.hasClass(\"transparent\") || $slider.parents(\".photo-scroller\").hasClass(\"full-screen\")) {\n\n                        if(window.innerWidth < dtLocal.themeSettings.mobileHeader.secondSwitchPoint) {\n                            return ($windowH - $slideTopPadding - $slideBottomPadding - $headerH - $adminBarH);\n                        }else {\n                            return ($windowH - $slideTopPadding - $slideBottomPadding - $adminBarH);                            \n                        };\n\n                    }else if ($(\".mixed-header\").length > 0 || $slider.parents(\".photo-scroller\").hasClass(\"full-screen\")) {\n\n                        if(window.innerWidth < dtLocal.themeSettings.mobileHeader.firstSwitchPoint) {\n                            return ($windowH - $slideTopPadding - $slideBottomPadding - $headerH - $adminBarH);                 \n                        }else {\n                            if($(\".side-header-h-stroke\").length > 0){\n                                return ($windowH - $slideTopPadding - $slideBottomPadding - $headerH - $adminBarH);\n                            }else{\n                                return ($windowH - $slideTopPadding - $slideBottomPadding - $adminBarH);\n                            }\n                        };\n\n                    }else if ($(\".side-header\").length > 0 || $slider.parents(\".photo-scroller\").hasClass(\"full-screen\")) {\n\n                        if(window.innerWidth < dtLocal.themeSettings.mobileHeader.firstSwitchPoint) {\n                            return ($windowH - $slideTopPadding - $slideBottomPadding - $headerH - $adminBarH);\n                        }else {\n                            return ($windowH - $slideTopPadding - $slideBottomPadding - $adminBarH);                            \n                        };\n\n                    }else {\n\n                        if(window.innerWidth < dtLocal.themeSettings.mobileHeader.firstSwitchPoint) {\n                            return ($windowH - $slideTopPadding - $slideBottomPadding - $headerH - $adminBarH);                     \n                        }else {\n                            return ($windowH - $slideTopPadding - $slideBottomPadding - $headerH - $adminBarH);\n                        };\n\n                    };\n                },\n                sidePaddings: dataSidePaddings,\n                autoPlay: {\n                    enabled: $sliderAutoslide,\n                    delay: $sliderAutoslideDelay,\n                    loop: $sliderLoop\n                }\n            }).data(\"thePhotoSlider\");\n\n\n            var $thumbsScroller = $('<div class=\"ts-wrap\"><div class=\"ts-viewport\"><div class=\"ts-cont ts-thumbs\">'+thumbs+'</div></div></div>');\n            $slider.after($thumbsScroller);\n\n            /* !Initializinig the thumbnail stripe */\n            var $thumbsScrollerData = $thumbsScroller.thePhotoSlider({\n                mode: {\n                    type: \"scroller\"\n                },\n                height: $thumbHeight\n            }).data(\"thePhotoSlider\");\n\n\n            $(\".prev\", $this_par).click(function() {\n                if (!$sliderData.noSlide) $sliderData.slidePrev();\n            });\n            $(\".next\", $this_par).click(function() {\n                if (!$sliderData.noSlide) $sliderData.slideNext();\n            });\n\n            $sliderData.ev.on(\"updateNav sliderReady\", function() {\n                if ($sliderData.lockRight) {\n                    $(\".next\", $elParent).addClass(\"disabled\");\n                } else {\n                    $(\".next\", $elParent).removeClass(\"disabled\");\n                };\n\n                if ($sliderData.lockLeft) {\n                    $(\".prev\", $elParent).addClass(\"disabled\");\n                } else {\n                    $(\".prev\", $elParent).removeClass(\"disabled\");\n                };\n            });\n\n            /*keyboard navigation*/\n            window.addEventListener(\"keydown\", checkKeyPressed, false); \n            function checkKeyPressed(e) {\n                if (e.keyCode == \"37\") {\n                    if (!$sliderData.noSlide) $sliderData.slidePrev();\n                } else if (e.keyCode == \"39\") { \n                    if (!$sliderData.noSlide) $sliderData.slideNext();\n                } \n            }\n\n\n            // !Active slide indication and thumbnail mechanics: begin */\n            $sliderData.ev.on(\"sliderReady beforeTransition\", function() {\n                $sliderData.slides.$items.removeClass(\"act\");\n                $sliderData.slides.$items.eq($sliderData.currSlide).addClass(\"act\");\n\n                $thumbsScrollerData.slides.$items.removeClass(\"act\");\n                $thumbsScrollerData.slides.$items.eq($sliderData.currSlide).addClass(\"act\");\n\n                if($sliderData.slides.$items.eq($sliderData.currSlide).hasClass(\"ts-video\")){\n                    $sliderData.slides.$items.parents(\".ts-wrap \").addClass(\"hide-slider-overlay\");\n                }else if($sliderData.slides.$items.eq($sliderData.currSlide).find(\".ps-link\").length > 0){\n                    $sliderData.slides.$items.parents(\".ts-wrap \").addClass(\"hide-slider-overlay\");\n                }else{\n                    $sliderData.slides.$items.parents(\".ts-wrap \").removeClass(\"hide-slider-overlay\");\n                };\n\n\n                var actCaption = $sliderData.slides.$items.eq($sliderData.currSlide).find(\"figcaption\").attr(\"class\");\n\n                $('.slide-caption > figcaption').removeClass(\"actCaption\");\n                $('.slide-caption > .'+actCaption).addClass(\"actCaption\");\n            });\n\n            $sliderData.ev.on(\"afterTransition\", function() {\n                var viewportLeft    = -($thumbsScrollerData._unifiedX()),\n                    viewportRight   = viewportLeft + $thumbsScrollerData.wrap.width,\n                    targetLeft      = -$thumbsScrollerData.slides.position[$sliderData.currSlide],\n                    targetRight     = targetLeft + $thumbsScrollerData.slides.width[$sliderData.currSlide];\n\n                targetLeft = targetLeft - 50;\n                targetRight = targetRight + 50;\n\n                if (targetLeft < viewportLeft) {\n\n                    for (i = $thumbsScrollerData.currSlide; i >= 0; i--) {\n                        targetLeft = targetLeft + 50;\n                        targetRight = targetRight - 50;\n\n                        var tempViewportLeft    = -$thumbsScrollerData.slides.position[i],\n                            tempViewportRight   = tempViewportLeft + $thumbsScrollerData.wrap.width;\n\n                        if (targetRight > tempViewportRight) {\n                            $thumbsScrollerData.slideTo(i+1);\n                            break;\n                        } \n                        else if (i === 0) {\n                            $thumbsScrollerData.slideTo(0);\n                        }\n                    }\n                }\n                else if (targetRight > viewportRight) {\n                    $thumbsScrollerData.slideTo($sliderData.currSlide);\n                };\n            });\n\n            $thumbsScroller.addClass(\"scroller-thumbnails\");\n            $thumbsScrollerData.slides.$items.each(function(i) {\n                $(this).on(\"click\", function(event) {\n                    var $this = $(this);\n\n                    if ($this.parents(\".ts-wrap\").hasClass(\"ts-interceptClicks\")) return;\n                    $sliderData.slideTo(i);\n                });\n            });\n\n            $(\".scroller-thumbnails\").layzrInitialisation();\n            $sliderData.slides.$items.each(function(i) {\n                $(this).on(\"click\", function(event) {\n                    var $this = $(this);\n\n                    if ($this.parents(\".ts-wrap\").hasClass(\"ts-interceptClicks\")) return;\n                    $sliderData.slideTo(i);\n                });\n            });\n            // !Active slide indication and thumbnail mechanics: end */\n\n            var $this_par = $slider.parents(\".photo-scroller\");\n\n            /* !- Autoplay */\n            if( $sliderData.st.autoPlay.enabled ){\n                $(\".auto-play-btn\", $this_par).addClass(\"paused\");\n            }\n            \n            $(\".auto-play-btn\", $this_par).on(\"click\", function(e){\n                e.preventDefault();\n                var $this = $(this);\n                if( $this.hasClass(\"paused\")){\n                    $this.removeClass(\"paused\");\n                    if (!$sliderData.noSlide) $sliderData.pause();\n                    $sliderData.st.autoPlay.enabled = false;\n                }else{\n                    $this.addClass(\"paused\");\n                    if (!$sliderData.noSlide) $sliderData.play();\n                    $sliderData.st.autoPlay.enabled = true;\n                }\n            });\n\n        };\n\n        /* !- Initialize slider */\n        $(\".photoSlider\").photoSlider();\n\n\n        \n        /* !- Show slider*/\n\n        $(\".photoSlider\").parents(\".photo-scroller\").css(\"visibility\", \"visible\");\n\n        \n        function launchFullscreen(element) {\n            if(element.requestFullscreen) {\n                element.requestFullscreen();\n            } else if(element.mozRequestFullScreen) {\n                element.mozRequestFullScreen();\n            } else if(element.webkitRequestFullscreen) {\n                element.webkitRequestFullscreen();\n            } else if(element.msRequestFullscreen) {\n                element.msRequestFullscreen();\n            }\n        }\n        function exitFullscreen() {\n            if(document.exitFullscreen) {\n                document.exitFullscreen();\n            } else if(document.mozCancelFullScreen) {\n                document.mozCancelFullScreen();\n            } else if(document.webkitExitFullscreen) {\n                document.webkitExitFullscreen();\n            }\n        };\n\n        /* !- Fullscreen button */\n        if(!dtGlobals.isWindowsPhone){\n            $(\".full-screen-btn\").each(function(){\n                var $this = $(this),\n                    $thisParent = $this.parents(\".photo-scroller\");\n                document.addEventListener(\"fullscreenchange\", function () {\n                    if(!document.fullscreen){\n                        $this.removeClass(\"act\");\n                        $thisParent.removeClass(\"full-screen\");\n                        $(\"body, html\").css(\"overflow\", \"\");\n                    }\n                }, false);\n                document.addEventListener(\"mozfullscreenchange\", function () {\n                    if(!document.mozFullScreen){\n                        $this.removeClass(\"act\");\n                        $thisParent.removeClass(\"full-screen\");\n                        $(\"body, html\").css(\"overflow\", \"\");\n                    }\n                }, false);\n                document.addEventListener(\"webkitfullscreenchange\", function () {\n                    if(!document.webkitIsFullScreen){\n                        $this.removeClass(\"act\");\n                        $thisParent.removeClass(\"full-screen\");\n                        $(\"body, html\").css(\"overflow\", \"\");\n                        var scroller = $frame.data(\"thePhotoSlider\");\n                        if(typeof scroller!= \"undefined\"){\n                            scroller.update();\n                        };\n                    }\n                }, false);\n            })\n\n            $(\".full-screen-btn\").on(\"click\", function(e){\n                e.preventDefault();\n                var $this = $(this),\n                    $thisParent = $this.parents(\".photo-scroller\"),\n                    $frame = $thisParent.find(\".ts-wrap\"),\n                    $thumbs = $thisParent.find(\".scroller-thumbnails\").data(\"thePhotoSlider\"),\n                    $scroller = $frame.data(\"thePhotoSlider\");\n                $this.parents(\".photo-scroller\").find(\"figure\").animate({\"opacity\": 0},150);\n                if( $this.hasClass(\"act\")){\n                \n                    $this.removeClass(\"act\");\n                    exitFullscreen();\n                    $thisParent.removeClass(\"full-screen\");\n\n                    setTimeout(function(){\n                        $this.parents(\".photo-scroller\").find(\"figure\").delay(600).animate({\"opacity\": 1},300)\n                    }, 300);\n                }else{\n                     $this.addClass(\"act\");\n                    $thisParent.addClass(\"full-screen\");\n                    launchFullscreen(document.documentElement);\n                    $(\"body, html\").css(\"overflow\", \"hidden\");\n                    setTimeout(function(){\n                        $this.parents(\".photo-scroller\").find(\"figure\").delay(600).animate({\"opacity\": 1},300)\n                    }, 300)\n                }\n                var scroller = $frame.data(\"thePhotoSlider\");\n                if(typeof scroller!= \"undefined\"){\n                    scroller.update();\n                };\n            });\n        }\n\n        /* !- Show/hide thumbs */\n        $photoScroller.each(function(){\n            var $this = $(this);\n            \n            $(\".btn-cntr, .slide-caption\", $this).css({\n                \"bottom\": parseInt($this.attr(\"data-thumb-height\")) + 15\n            });\n\n            if( $this.hasClass(\"hide-thumbs\")){\n                $this.find(\".hide-thumb-btn\").addClass(\"act\");\n                $(\".scroller-thumbnails\", $this).css({\n                    \"bottom\": -(parseInt($this.attr(\"data-thumb-height\")) +20)\n                });\n                $(\".btn-cntr, .slide-caption\", $this).css({\n                    \"bottom\": 5 + \"px\"\n                });\n            }\n        });\n        $(\".hide-thumb-btn\").on(\"click\", function(e){\n            e.preventDefault();\n            var $this = $(this),\n                $thisParent = $this.parents(\".photo-scroller\");\n            if( $this.hasClass(\"act\")){\n                 $this.removeClass(\"act\");\n                $thisParent.removeClass(\"hide-thumbs\");\n                $(\".scroller-thumbnails\", $thisParent).css({\n                    \"bottom\": 0\n                });\n                $(\".btn-cntr, .slide-caption\", $thisParent).css({\n                    \"bottom\": parseInt($thisParent.attr(\"data-thumb-height\")) + 15\n                });\n\n            }else{\n                 $this.addClass(\"act\");\n                $thisParent.addClass(\"hide-thumbs\");\n                $(\".scroller-thumbnails\", $thisParent).css({\n                    \"bottom\": -(parseInt($thisParent.attr(\"data-thumb-height\")) +20)\n                });\n                $(\".btn-cntr, .slide-caption\", $thisParent).css({\n                    \"bottom\": 5 + \"px\"\n                });\n            }\n        });\n    };\n// })\n\n    //porthole Slider\n    if ($(\".rsHomePorthole\").exists()) {\n        var portholeSlider = {};\n        portholeSlider.container = $(\"#main-slideshow\");\n        portholeSlider.hendheld = $window.width() < 740 && dtGlobals.isMobile ? true : false;\n        \n        $(\"#main-slideshow-content\").appendTo(portholeSlider.container);\n\n           //Scroller porthole slideshow\n\n        $.fn.portholeScroller = function() {\n            var $el = $(this),\n                slides = {},\n                thumbs = \"\";\n\n                slides.$items = $el.children(\"li\"),\n                slides.count = slides.$items.length;\n\n            slides.$items.each(function(i) {\n                var $this = $(this),\n                     $slide = $this,\n                     $thumbImg = $slide.children(\"img\"),\n                     thumbSrc = $thumbImg.attr(\"data-rstmb\"),\n                     thumbDataSrc = $thumbImg.attr(\"data-src\"),\n                     thumbDataSrcset = $thumbImg.attr(\"data-srcset\"),\n                     thumbClass = $thumbImg.attr(\"class\");\n                 if($thumbImg.hasClass(\"lazy-load\")){\n                     var $layzrBg = \"layzr-bg\";\n                 }else{\n                     var $layzrBg = \"\";\n                 }\n                 thumbs = thumbs + '<div class=\"ps-thumb-img ' + $layzrBg +'\"><img class=\" '+thumbClass+'\" src=\"'+thumbSrc+'\"  width=\"150\" height=\"150\"></div>';    \n             });\n\n            $el.addClass(\"ts-cont\");\n            $el.wrap('<div class=\"ts-wrap\"><div class=\"ts-viewport portholeSlider-wrap\"></div></div>');\n          \n\n            var $slider = $el.parents(\".ts-wrap\"),\n                $this_par = $el.parents(\"#main-slideshow\"),\n                windowW = $window.width(),\n                paddings = $this_par.attr(\"data-padding-side\") ? parseInt($this_par.attr(\"data-padding-side\")) : 0,\n                $sliderAutoslideEnable = ( 'true' != $this_par.attr(\"data-paused\") && typeof $this_par.attr(\"data-autoslide\") != \"undefined\" && !($window.width() < 740 && dtGlobals.isMobile) ) ? true : false,\n               // $sliderAutoslide = ( 'true' === $this_par.attr(\"data-paused\") ) ? false : true,\n                $sliderAutoslideDelay = $this_par.attr(\"data-autoslide\") && parseInt($this_par.attr(\"data-autoslide\")) > 999 ? parseInt($this_par.attr(\"data-autoslide\")) : 5000,\n                $sliderLoop = (  typeof $this_par.attr(\"data-autoslide\") != \"undefined\" ) ? true : false,\n                $sliderWidth = $this_par.attr(\"data-width\") ? parseInt($this_par.attr(\"data-width\")) : 800,\n                $sliderHight = $this_par.attr(\"data-height\") ? parseInt($this_par.attr(\"data-height\")) : 400,\n                imgMode = $this_par.attr(\"data-scale\") ? $this_par.attr(\"data-scale\") : \"none\";\n\n            var $sliderData = $slider.thePhotoSlider({\n                mode: {\n                    type: \"slider\"\n                },\n                height: $sliderHight,\n                width: $sliderWidth,\n                //sidePaddings: paddings,\n                resizeImg: true,\n                imageScaleMode: imgMode,\n                imageAlignCenter:true,\n                autoPlay: {\n                    enabled: $sliderAutoslideEnable,\n                    delay: $sliderAutoslideDelay,\n                    loop: $sliderLoop\n                }\n            }).data(\"thePhotoSlider\");\n\n            //Create thumbs\n            var $thumbsScroller = $('<div class=\"psThumbs\"><div class=\"psThumbsContainer\">'+thumbs+'</div></div>');\n            $slider.append($thumbsScroller);\n            var $psThumb = $(\".ps-thumb-img \");\n            $psThumb.each(function(i) {\n                $(this).on(\"click\", function(event) {\n                     var $this = $(this);\n\n                     //if ($this.parents(\".ts-wrap\").hasClass(\"ts-interceptClicks\")) return;\n                     $sliderData.slideTo(i);\n                });\n             });\n\n            //Tumbs progress\n            $(\".psThumbsContainer\").after('<div class=\"progress-wrapper\"><div class=\"progress-controls\"></div></div>');\n            $progressWrap = $(\".psThumbsContainer\").next();\n            $progressHtml = '<div class=\"progress-mask\"><div class=\"progress-spinner-left\" style=\"animation-duration: '+$sliderAutoslideDelay+'ms;\"></div></div><div class=\"progress-mask\"><div class=\"progress-spinner-right\" style=\"animation-duration: '+$sliderAutoslideDelay+'ms;\"></div></div>';\n            \n            if ($sliderData.st.autoPlay.enabled) {\n                if ($progressWrap.find(\".progress-mask\").length < 1) {\n                    $progressWrap.prepend($progressHtml);\n                }\n            }\n            $sliderData.ev.on(\"autoPlayPlay\", function() {\n                if ($progressWrap.find(\".progress-mask\").length < 1) {\n                    $progressWrap.prepend($progressHtml);\n                }\n                $progressWrap.removeClass(\"paused\");\n            });\n\n            $sliderData.ev.on(\"autoPlayPause\", function() {\n                $progressWrap.find(\".progress-mask\").remove();\n                if (!$sliderAutoslideEnable) {\n                    $progressWrap.addClass(\"paused\");\n                }\n            });\n\n            $sliderData.ev.on(\"sliderReady beforeTransition\", function() {\n                //Animate thums container\n                var newPos = -$sliderData.currSlide * 40;\n                if (newPos == 0) {\n                    newPos = 20;\n                }\n                $psThumb.removeClass(\"psNavSelected psNavPrev psNavNext psNavVis\");\n                $psThumb.eq($sliderData.currSlide).addClass(\"psNavSelected\");\n                $psThumb.eq($sliderData.currSlide).prev().addClass(\"psNavPrev\");\n                $psThumb.eq($sliderData.currSlide).next().addClass(\"psNavNext\");\n                $psThumb.eq($sliderData.currSlide).prev().prev().addClass(\"psNavVis\");\n                $psThumb.eq($sliderData.currSlide).next().next().addClass(\"psNavVis\");\n                $(\".psThumbsContainer\").css({ transform:'translateY(' +  newPos  + 'px)' });\n            })\n            $sliderData.ev.on(\"sliderReady beforeTransition\", function() {\n                //hide thumb progress on slide change\n                $progressWrap.addClass(\"blurred\");\n            });\n            $sliderData.ev.on(\"sliderReady afterTransition\", function() {\n                $progressWrap.removeClass(\"blurred\");\n            });\n            var dtResizeTimeout;\n            $window.on(\"resize\", function() {\n                clearTimeout(dtResizeTimeout);\n                dtResizeTimeout = setTimeout(function() {\n                    $progressWrap.removeClass(\"blurred\");\n                }, 200);\n            });\n\n            //Append slider navigation\n            $('<div class=\"leftArrow\"></div><div class=\"rightArrow\"></div>').insertAfter($el);\n\n            $(\".leftArrow\", $slider).click(function() {\n                if (!$sliderData.noSlide) $sliderData.slidePrev();\n            });\n            $(\".rightArrow\", $slider).click(function() {\n                if (!$sliderData.noSlide) $sliderData.slideNext();\n            });\n\n            $sliderData.ev.on(\"updateNav sliderReady\", function() {\n                if ($sliderData.lockRight) {\n                    $(\".rightArrow\", $slider).addClass(\"disabled\");\n                } else {\n                    $(\".rightArrow\", $slider).removeClass(\"disabled\");\n                };\n\n                if ($sliderData.lockLeft) {\n                    $(\".leftArrow\", $slider).addClass(\"disabled\");\n                } else {\n                    $(\".leftArrow\", $slider).removeClass(\"disabled\");\n                };\n                if ($sliderData.lockRight && $sliderData.lockLeft) {\n                    $this_par.addClass(\"hide-arrows\");\n                };\n            });\n\n            //Slider auto play/pause\n            if( 'true' === $this_par.attr(\"data-paused\") ){\n                $progressWrap.addClass(\"paused\");\n            };\n            $progressWrap.on(\"click\", function(e){\n                e.preventDefault();\n                var $this = $(this);\n                if( $this.hasClass(\"paused\")){\n                    $this.removeClass(\"paused\");\n                    if ($progressWrap.find(\".progress-mask\").length < 1) {\n                        $progressWrap.prepend($progressHtml);\n                    }\n                    if (!$sliderData.noSlide) $sliderData.play();\n                    $sliderData.st.autoPlay.enabled = true;\n                }else{\n                    $this.addClass(\"paused\");\n                    if (!$sliderData.noSlide) $sliderData.pause();\n                    $sliderData.st.autoPlay.enabled = false;\n                    $progressWrap.find(\".progress-mask\").remove();\n                  \n                }\n            });\n            // $(\".rsPlayBtn\").on(\"click\", function(e){\n            //    // e.preventDefault();\n            //     var $this = $(this);\n            //     if(  $progressWrap.hasClass(\"paused\")){\n            //     }else{\n            //          $progressWrap.addClass(\"paused\");\n            //         if (!$sliderData.noSlide) $sliderData.pause();\n            //         $sliderData.st.autoPlay.enabled = false;\n            //         $progressWrap.find(\".progress-mask\").remove();\n                  \n            //     }\n            // });\n\n            // scroller.hover(\n            //  function() {\n            //      if($sliderAutoslide) {\n            //          $sliderData._autoPlayPaused = false;\n            //          $sliderData.pause();\n            //          $sliderData._pausedByHover = true;\n            //      }\n            //  },\n            //  function() {\n            //      if($sliderAutoslide) {\n            //          $sliderData._pausedByHover = false;\n            //          if(!$sliderData._pausedByClick){\n            //              $sliderData.play();\n            //          }\n            //      }\n            //  }\n            // );\n        };\n        $(\".rsHomePorthole\").each(function(){\n            $(this).portholeScroller();\n        });\n        \n    };\n\n});\n(function($) {\n\n    \n\n/*!\n *\n * jQuery collagePlus Plugin v0.3.2\n * https://github.com/ed-lea/jquery-collagePlus\n *\n * Copyright 2012, Ed Lea twitter.com/ed_lea\n *\n * built for http://qiip.me\n *\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.opensource.org/licenses/GPL-2.0\n *\n *\n * Heavily modified by Dream-Theme.com\n */\n\n\n\n\n\n    $.fn.collagePlus = function( options ) {\n\n        var defaults = {\n            // the ideal height you want your images to be\n            'targetHeight'          : 400,\n            // width of the area the collage will be in\n            'albumWidth'            : this.width(),\n            // padding between the images\n            'padding'               : parseFloat( this.css('padding-left') ),\n            // object that contains the images to collage\n            'images'                : this.children(),\n            // how quickly you want images to fade in once ready can be in ms, \"slow\" or \"fast\"\n            'fadeSpeed'             : \"fast\",\n            // how the resized block should be displayed. inline-block by default so that it doesn't break the row\n            'display'               : \"inline-block\",\n            // which effect you want to use for revealing the images (note CSS3 browsers only),\n            'effect'                : 'default',\n            // effect delays can either be applied per row to give the impression of descending appearance\n            // or horizontally, so more like a flock of birds changing direction\n            'direction'             : 'vertical',\n            // Sometimes there is just one image on the last row and it gets blown up to a huge size to fit the\n            // parent div width. To stop this behaviour, set this to true\n            'allowPartialLastRow'   : false\n        };\n\n        var settings = $.extend({}, defaults, options);\n\n        return this.each(function() {\n\n            /*\n             *\n             * set up vars\n             *\n             */\n\n                // track row width by adding images, padding and css borders etc\n            var row         = 0,\n                // collect elements to be re-sized in current row\n                elements    = [],\n                // track the number of rows generated\n                rownum = 1;\n\n\n            settings.images.each(\n                function(index){\n                    /*\n                     *\n                     * Cache selector\n                     * Even if first child is not an image the whole sizing is based on images\n                     * so where we take measurements, we take them on the images\n                     *\n                     */\n                    var $this = $(this),\n                        $img  = ($this.is(\"img\")) ? $this : $(this).find(\"img\").not(\".blur-effect\").first();\n\n                    /*\n                     *\n                     * get the current image size. Get image size in this order\n                     *\n                     * 1. from <img> tag\n                     * 2. from data set from initial calculation\n                     * 3. after loading the image and checking it's actual size\n                     *\n                     */\n                    if ($img.attr(\"width\") != 'undefined' && $img.attr(\"height\") != 'undefined') {\n                        var w = (typeof $img.data(\"width\") != 'undefined') ? $img.data(\"width\") : $img.attr(\"width\"),\n                            h = (typeof $img.data(\"height\") != 'undefined') ? $img.data(\"height\") : $img.attr(\"height\");\n                        \n                    }\n                    else {\n                        var w = (typeof $img.data(\"width\") != 'undefined') ? $img.data(\"width\") : $img.width(),\n                            h = (typeof $img.data(\"height\") != 'undefined') ? $img.data(\"height\") : $img.height();\n                    }\n\n\n\n                    /*\n                     *\n                     * Get any current additional properties that may affect the width or height\n                     * like css borders for example\n                     *\n                     */\n                    var imgParams = getImgProperty($img);\n\n\n                    /*\n                     *\n                     * store the original size for resize events\n                     *\n                     */\n                    $img.data(\"width\", w);\n                    $img.data(\"height\", h);\n\n\n\n                    /*\n                     *\n                     * calculate the w/h based on target height\n                     * this is our ideal size, but later we'll resize to make it fit\n                     *\n                     */\n                    var nw = Math.ceil(w/h*settings.targetHeight),\n                        nh = Math.ceil(settings.targetHeight);\n\n                    /*\n                     *\n                     * Keep track of which images are in our row so far\n                     *\n                     */\n                    elements.push([this, nw, nh, imgParams['w'], imgParams['h']]);\n\n                    /*\n                     *\n                     * calculate the width of the element including extra properties\n                     * like css borders\n                     *\n                     */\n                    row += nw + imgParams['w'] + settings.padding;\n\n                    /*\n                     *\n                     * if the current row width is wider than the parent container\n                     * it's time to make a row out of our images\n                     *\n                     */\n                    if( row > settings.albumWidth && elements.length != 0 ){\n\n                        // call the method that calculates the final image sizes\n                        // remove one set of padding as it's not needed for the last image in the row\n                        resizeRow(elements, row, settings, rownum);\n\n                        // reset our row\n                        delete row;\n                        delete elements;\n                        row         = 0;\n                        elements    = [];\n                        rownum      += 1;\n                    }\n\n\n                    /*\n                     *\n                     * if the images left are not enough to make a row\n                     * then we'll force them to make one anyway\n                     *\n                     */\n                    if ( settings.images.length-1 == index && elements.length != 0){\n                        resizeRow(elements, row, settings, rownum);\n\n                        // reset our row\n                        delete row;\n                        delete elements;\n                        row         = 0;\n                        elements    = [];\n                        rownum      += 1;\n                    }\n                }\n            );\n\n            // trigger \"jgDone\" event when all is ready\n            $(this).trigger(\"jgDone\");\n        });\n\n        function resizeRow(obj, row, settings, rownum) {\n            /*\n             *\n             * How much bigger is this row than the available space?\n             * At this point we have adjusted the images height to fit our target height\n             * so the image size will already be different from the original.\n             * The resizing we're doing here is to adjust it to the album width.\n             *\n             * We also need to change the album width (basically available space) by\n             * the amount of padding and css borders for the images otherwise\n             * this will skew the result.\n             *\n             * This is because padding and borders remain at a fixed size and we only\n             * need to scale the images.\n             *\n             */\n            var imageExtras         = (settings.padding * obj.length) + (obj.length * obj[0][3]),\n                albumWidthAdjusted  = settings.albumWidth - imageExtras,\n                overPercent         = albumWidthAdjusted / (row - imageExtras),\n                // start tracking our width with know values that will make up the total width\n                // like borders and padding\n                trackWidth          = imageExtras,\n                // guess whether this is the last row in a set by checking if the width is less\n                // than the parent width.\n                lastRow             = (row < settings.albumWidth  ? true : false);\n\n\n\n            /*\n             * Resize the images by the above % so that they'll fit in the album space\n             */\n            for (var i = 0; i < obj.length; i++) {\n\n\n\n                var $obj        = $(obj[i][0]),\n                    fw          = Math.floor(obj[i][1] * overPercent),\n                    fh          = Math.floor(obj[i][2] * overPercent),\n                // if the element is the last in the row,\n                // don't apply right hand padding (this is our flag for later)\n                    isNotLast   = !!(( i < obj.length - 1 ));\n\n                /*\n                 * Checking if the user wants to not stretch the images of the last row to fit the\n                 * parent element size\n                 */\n                if(settings.allowPartialLastRow === true && lastRow === true){\n                     fw = obj[i][1];\n                     fh = obj[i][2];\n                }\n\n\n                /*\n                 *\n                 * Because we use % to calculate the widths, it's possible that they are\n                 * a few pixels out in which case we need to track this and adjust the\n                 * last image accordingly\n                 *\n                 */\n                trackWidth += fw;\n\n\n                /*\n                 *\n                 * here we check if the combined images are exactly the width\n                 * of the parent. If not then we add a few pixels on to make\n                 * up the difference.\n                 *\n                 * This will alter the aspect ratio of the image slightly, but\n                 * by a noticable amount.\n                 *\n                 * If the user doesn't want full width last row, we check for that here\n                 *\n                 */\n    /*\n                if(!isNotLast && trackWidth < settings.albumWidth){\n                    if(settings.allowPartialLastRow === true && lastRow === true){\n                        fw = fw;\n                    }else{\n                        fw = fw + (settings.albumWidth - trackWidth);\n                    }\n                }\n    */\n\n                /*\n                 *\n                 * We'll be doing a few things to the image so here we cache the image selector\n                 *\n                 *\n                 */\n                var $img = ( $obj.is(\"img\") ) ? $obj : $obj.find(\"img\").not(\".blur-effect\").first();\n\n                /*\n                 *\n                 * Set the width of the image and parent element\n                 * if the resized element is not an image, we apply it to the child image also\n                 *\n                 * We need to check if it's an image as the css borders are only measured on\n                 * images. If the parent is a div, we need make the contained image smaller\n                 * to accommodate the css image borders.\n                 *\n                 */\n                $img.width(fw);\n                if( !$obj.is(\"img\") ){\n                    $obj.width(fw + obj[i][3]);\n                }\n\n\n                /*\n                 *\n                 * Set the height of the image\n                 * if the resized element is not an image, we apply it to the child image also\n                 *\n                 */\n                $img.height(fh);\n                if( !$obj.is(\"img\") ){\n                    $obj.height(fh + obj[i][4]);\n                }\n\n\n                /*\n                 *\n                 * Apply the css extras like padding\n                 *\n                 */\n                if (settings.allowPartialLastRow === false &&  lastRow === true) {\n                    applyModifications($obj, isNotLast, \"none\");\n                }\n                else {\n                    applyModifications($obj, isNotLast, settings.display);\n                };\n\n\n                /*\n                 *\n                 * Assign the effect to show the image\n                 * Default effect is using jquery and not CSS3 to support more browsers\n                 * Wait until the image is loaded to do this\n                 *\n                 */\n    /*\n                $img\n                    .load(function(target) {\n                    return function(){\n                        if( settings.effect == 'default'){\n                            target.animate({opacity: '1'},{duration: settings.fadeSpeed});\n                        } else {\n                            if(settings.direction == 'vertical'){\n                                var sequence = (rownum <= 10  ? rownum : 10);\n                            } else {\n                                var sequence = (i <= 9  ? i+1 : 10);\n                            }\n\n                            target.addClass(settings.effect);\n                            target.addClass(\"effect-duration-\" + sequence);\n                        }\n                    }\n                    }($obj))\n    */\n                    /*\n                     * fix for cached or loaded images\n                     * For example if images are loaded in a \"window.load\" call we need to trigger\n                     * the load call again\n                     */\n    /*\n                    .each(function() {\n                            if(this.complete) $(this).trigger('load');\n                    });\n    */\n\n            }\n        }\n\n        /*\n         *\n         * This private function applies the required css to space the image gallery\n         * It applies it to the parent element so if an image is wrapped in a <div> then\n         * the css is applied to the <div>\n         *\n         */\n        function applyModifications($obj, isNotLast, settingsDisplay) {\n            var css = {\n    /*\n                    // Applying padding to element for the grid gap effect\n                    'margin-bottom'     : settings.padding + \"px\",\n                    'margin-right'      : (isNotLast) ? settings.padding + \"px\" : \"0px\",\n    */\n                    // Set it to an inline-block by default so that it doesn't break the row\n                    'display'           : settingsDisplay,\n                    // Set vertical alignment otherwise you get 4px extra padding\n                    'vertical-align'    : \"bottom\",\n                    // Hide the overflow to hide the caption\n                    'overflow'          : \"hidden\"\n                };\n\n            return $obj.css(css);\n        }\n\n\n        /*\n         *\n         * This private function calculates any extras like padding, border associated\n         * with the image that will impact on the width calculations\n         *\n         */\n        function getImgProperty(img) {\n            $img = $(img);\n            var params =  new Array();\n            params[\"w\"] = (parseFloat($img.css(\"border-left-width\")) + parseFloat($img.css(\"border-right-width\")));\n            params[\"h\"] = (parseFloat($img.css(\"border-top-width\")) + parseFloat($img.css(\"border-bottom-width\")));\n            return params;\n        }\n\n    };\n    /* !- Justified Gallery Initialisation */\n\n\n    var jgCounter = 0;\n    $(\".jg-container\").each(function() {\n        jgCounter++;\n        var $jgContainer = $(this),\n            $jgItemsPadding = $jgContainer.attr(\"data-padding\"),\n            $jgItems = $jgContainer.find(\".wf-cell\");\n        // .iso-item elements are hidden by default, so we show them.\n\n        $jgContainer.attr(\"id\", \"jg-container-\" + jgCounter + \"\");\n\n        $(\"<style type='text/css'>\" + ' .content #jg-container-' + jgCounter + ' .wf-cell'  + '{padding:'  + $jgItemsPadding + ';}' + ' .content #jg-container-' + jgCounter + '.wf-container'  + '{'+ 'margin:'  + '-'+ $jgItemsPadding + ';}' + ' .content .full-width-wrap #jg-container-' + jgCounter + '.wf-container'  + '{'+ 'margin-left:'  + $jgItemsPadding + '; '+ 'margin-right:'  + $jgItemsPadding + '; '+ 'margin-top:' + '-' + $jgItemsPadding + '; '+ 'margin-bottom:' + '-' + $jgItemsPadding + ';}' +\"</style>\").insertAfter($jgContainer);\n\n        $jgContainer.on(\"jgDone\", function() {\n            // var layzrJGrid = new Layzr({\n            // //   container: \".jg-container\",\n            //  selector: '[data-layzr-jgrid]',\n            //  attr: 'data-layzr-jgrid',\n            //  retinaAttr: 'data-layzr-jgrid-retina',\n            //  threshold: 0,\n            //  callback: function() {\n            //      $(this).velocity({\n            //          \"opacity\" : 1\n            //      }, 350);\n            //  }\n            // });\n            var layzrJGrid = new Layzr({\n                selector: '.jgrid-lazy-load',\n                attr: 'data-src',\n                attrSrcSet: 'data-srcset',\n                retinaAttr: 'data-src-retina',\n                threshold: 0,\n                before: function() {\n\n                    // For fixed-size images with srcset; or have to be updated on window resize.\n                    this.setAttribute(\"sizes\", this.width+\"px\");\n                },\n                callback: function() {\n\n                    this.classList.add(\"jgrid-layzr-loaded\");\n                    var $this =  $(this);\n                    $this.one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function(e) {\n                        setTimeout(function(){\n                            $this.parent().removeClass(\"layzr-bg\");\n                        }, 200)\n                    });\n                }\n            });\n        });\n    });\n\n    $.fn.collage = function(args) {\n        return this.each(function() {\n            var $this = $(this);\n            var $jgContainer = $(this),\n                $jgItemsPadding = $jgContainer.attr(\"data-padding\"),\n                $jgItems = $jgContainer.find(\".wf-cell\");\n            var jgPadding = parseFloat($jgItems.first().css('padding-left')) + parseFloat($jgItems.first().css('padding-right')),\n                jgTargetHeight = parseInt($jgContainer.attr(\"data-target-height\")),\n                jdPartRow = true;\n\n            if ($jgContainer.attr(\"data-part-row\") == \"false\") {\n                jdPartRow = false;\n            };\n\n\n            if($jgContainer.parent(\".full-width-wrap\").length){\n                var jgAlbumWidth = $jgContainer.parents(\".full-width-wrap\").width() - parseInt($jgItemsPadding)*2;\n            }else{\n                var jgAlbumWidth = $jgContainer.parent().width() + parseInt($jgItemsPadding)*2;\n            }\n            \n            var $jgCont = {\n                'albumWidth'            : jgAlbumWidth,\n                'targetHeight'          : jgTargetHeight,\n                'padding'               : jgPadding,\n                'allowPartialLastRow'   : jdPartRow,\n                'fadeSpeed'             : 2000,\n                'effect'                : 'effect-1',\n                'direction'             : 'vertical'\n            };\n            $.extend($jgCont, args);\n\n            dtGlobals.jGrid = $jgCont;\n            $jgContainer.collagePlus($jgCont);\n            $jgContainer.css({\n                'width': jgAlbumWidth\n            });\n        });\n    };\n    $(window).on(\"debouncedresize\", function() {\n        $(\".jg-container\").not('.jgrid-shortcode').collage();\n        $(\".jgrid-shortcode\").each(function() {\n            var $this = $(this);\n            var $visibleItems = $this.data('visibleItems');\n            if ( $visibleItems ) {\n                $this.collage({ 'images': $visibleItems });\n            } else {\n                $this.collage();\n            }\n        });\n    }).trigger( \"debouncedresize\" );\n})(jQuery);","/* ------------------------------------------------------------------------\n\tClass: prettyPhoto\n\tUse: Lightbox clone for jQuery\n\tAuthor: Stephane Caron (http://www.no-margin-for-errors.com)\n\tVersion: 3.1.6\n------------------------------------------------------------------------- */\n(function($) {\n\t$.prettyPhoto = {version: '3.1.6'};\n\t\n\t$.fn.prettyPhoto = function(pp_settings) {\n\t\tpp_settings = jQuery.extend({\n\t\t\thook: 'rel', /* the attribute tag to use for prettyPhoto hooks. default: 'rel'. For HTML5, use \"data-rel\" or similar. */\n\t\t\tanimation_speed: 'fast', /* fast/slow/normal */\n\t\t\tajaxcallback: function() {},\n\t\t\tslideshow: 5000, /* false OR interval time in ms */\n\t\t\tautoplay_slideshow: false, /* true/false */\n\t\t\topacity: 0.80, /* Value between 0 and 1 */\n\t\t\tshow_title: true, /* true/false */\n\t\t\tallow_resize: true, /* Resize the photos bigger than viewport. true/false */\n\t\t\tallow_expand: true, /* Allow the user to expand a resized image. true/false */\n\t\t\tdefault_width: 500,\n\t\t\tdefault_height: 344,\n\t\t\tcounter_separator_label: '/', /* The separator for the gallery counter 1 \"of\" 2 */\n\t\t\ttheme: 'pp_default', /* light_rounded / dark_rounded / light_square / dark_square / facebook */\n\t\t\thorizontal_padding: 20, /* The padding on each side of the picture */\n\t\t\thideflash: false, /* Hides all the flash object on a page, set to TRUE if flash appears over prettyPhoto */\n\t\t\twmode: 'opaque', /* Set the flash wmode attribute */\n\t\t\tautoplay: true, /* Automatically start videos: True/False */\n\t\t\tmodal: false, /* If set to true, only the close button will close the window */\n\t\t\tdeeplinking: true, /* Allow prettyPhoto to update the url to enable deeplinking. */\n\t\t\toverlay_gallery: true, /* If set to true, a gallery will overlay the fullscreen image on mouse over */\n\t\t\toverlay_gallery_max: 30, /* Maximum number of pictures in the overlay gallery */\n\t\t\tkeyboard_shortcuts: true, /* Set to false if you open forms inside prettyPhoto */\n\t\t\tchangepicturecallback: function(){}, /* Called everytime an item is shown/changed */\n\t\t\tcallback: function(){}, /* Called when prettyPhoto is closed */\n\t\t\tie6_fallback: true,\n\t\t\tmarkup: '<div class=\"pp_pic_holder\"> \\\n\t\t\t\t\t\t<div class=\"ppt\">&nbsp;</div> \\\n\t\t\t\t\t\t<div class=\"pp_top\"> \\\n\t\t\t\t\t\t\t<div class=\"pp_left\"></div> \\\n\t\t\t\t\t\t\t<div class=\"pp_middle\"></div> \\\n\t\t\t\t\t\t\t<div class=\"pp_right\"></div> \\\n\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t<div class=\"pp_content_container\"> \\\n\t\t\t\t\t\t\t<div class=\"pp_left\"> \\\n\t\t\t\t\t\t\t<div class=\"pp_right\"> \\\n\t\t\t\t\t\t\t\t<div class=\"pp_content\"> \\\n\t\t\t\t\t\t\t\t\t<div class=\"pp_loaderIcon\"></div> \\\n\t\t\t\t\t\t\t\t\t<div class=\"pp_fade\"> \\\n\t\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_expand\" title=\"Expand the image\">Expand</a> \\\n\t\t\t\t\t\t\t\t\t\t<div class=\"pp_hoverContainer\"> \\\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"pp_next\" href=\"#\">next</a> \\\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"pp_previous\" href=\"#\">previous</a> \\\n\t\t\t\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t\t\t\t\t<div id=\"pp_full_res\"></div> \\\n\t\t\t\t\t\t\t\t\t\t<div class=\"pp_details\"> \\\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"pp_nav\"> \\\n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_arrow_previous\">Previous</a> \\\n\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"currentTextHolder\">0/0</p> \\\n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_arrow_next\">Next</a> \\\n\t\t\t\t\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"pp_description\"></p> \\\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"pp_social\">{pp_social}</div> \\\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"pp_close\" href=\"#\">Close</a> \\\n\t\t\t\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t<div class=\"pp_bottom\"> \\\n\t\t\t\t\t\t\t<div class=\"pp_left\"></div> \\\n\t\t\t\t\t\t\t<div class=\"pp_middle\"></div> \\\n\t\t\t\t\t\t\t<div class=\"pp_right\"></div> \\\n\t\t\t\t\t\t</div> \\\n\t\t\t\t\t</div> \\\n\t\t\t\t\t<div class=\"pp_overlay\"></div>',\n\t\t\tgallery_markup: '<div class=\"pp_gallery\"> \\\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_arrow_previous\">Previous</a> \\\n\t\t\t\t\t\t\t\t<div> \\\n\t\t\t\t\t\t\t\t\t<ul> \\\n\t\t\t\t\t\t\t\t\t\t{gallery} \\\n\t\t\t\t\t\t\t\t\t</ul> \\\n\t\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_arrow_next\">Next</a> \\\n\t\t\t\t\t\t\t</div>',\n\t\t\timage_markup: '<img id=\"fullResImage\" src=\"{path}\" />',\n\t\t\tflash_markup: '<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"{width}\" height=\"{height}\"><param name=\"wmode\" value=\"{wmode}\" /><param name=\"allowfullscreen\" value=\"true\" /><param name=\"allowscriptaccess\" value=\"always\" /><param name=\"movie\" value=\"{path}\" /><embed src=\"{path}\" type=\"application/x-shockwave-flash\" allowfullscreen=\"true\" allowscriptaccess=\"always\" width=\"{width}\" height=\"{height}\" wmode=\"{wmode}\"></embed></object>',\n\t\t\tquicktime_markup: '<object classid=\"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B\" codebase=\"http://www.apple.com/qtactivex/qtplugin.cab\" height=\"{height}\" width=\"{width}\"><param name=\"src\" value=\"{path}\"><param name=\"autoplay\" value=\"{autoplay}\"><param name=\"type\" value=\"video/quicktime\"><embed src=\"{path}\" height=\"{height}\" width=\"{width}\" autoplay=\"{autoplay}\" type=\"video/quicktime\" pluginspage=\"http://www.apple.com/quicktime/download/\"></embed></object>',\n\t\t\tiframe_markup: '<iframe src =\"{path}\" width=\"{width}\" height=\"{height}\" frameborder=\"no\"></iframe>',\n\t\t\tinline_markup: '<div class=\"pp_inline\">{content}</div>',\n\t\t\tcustom_markup: '',\n\t\t\tsocial_tools: '<div class=\"twitter\"><a href=\"http://twitter.com/share\" class=\"twitter-share-button\" data-count=\"none\">Tweet</a><script type=\"text/javascript\" src=\"http://platform.twitter.com/widgets.js\"></script></div><div class=\"facebook\"><iframe src=\"//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23\" scrolling=\"no\" frameborder=\"0\" style=\"border:none; overflow:hidden; width:500px; height:23px;\" allowTransparency=\"true\"></iframe></div>' /* html or false to disable */\n\t\t}, pp_settings);\n\t\t\n\t\t// Global variables accessible only by prettyPhoto\n\t\tvar matchedObjects = this, percentBased = false, pp_dimensions, pp_open,\n\t\t\n\t\t// prettyPhoto container specific\n\t\tpp_contentHeight, pp_contentWidth, pp_containerHeight, pp_containerWidth,\n\t\t\n\t\t// Window size\n\t\twindowHeight = $(window).height(), windowWidth = $(window).width(),\n\n\t\t// Global elements\n\t\tpp_slideshow;\n\t\t\n\t\tdoresize = true, scroll_pos = _get_scroll();\n\t\n\t\t// Window/Keyboard events\n\t\t$(window).unbind('resize.prettyphoto').bind('resize.prettyphoto',function(){ _center_overlay(); _resize_overlay(); });\n\t\t\n\t\tif(pp_settings.keyboard_shortcuts) {\n\t\t\t$(document).unbind('keydown.prettyphoto').bind('keydown.prettyphoto',function(e){\n\t\t\t\tif(typeof $pp_pic_holder != 'undefined'){\n\t\t\t\t\tif($pp_pic_holder.is(':visible')){\n\t\t\t\t\t\tswitch(e.keyCode){\n\t\t\t\t\t\t\tcase 37:\n\t\t\t\t\t\t\t\t$.prettyPhoto.changePage('previous');\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 39:\n\t\t\t\t\t\t\t\t$.prettyPhoto.changePage('next');\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 27:\n\t\t\t\t\t\t\t\tif(!settings.modal)\n\t\t\t\t\t\t\t\t$.prettyPhoto.close();\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t};\n\t\t\t\t\t\t// return false;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t});\n\t\t};\n\t\t\n\t\t/**\n\t\t* Initialize prettyPhoto.\n\t\t*/\n\t\t$.prettyPhoto.initialize = function() {\n\t\t\t\n\t\t\tsettings = pp_settings;\n\t\t\t\n\t\t\tif(settings.theme == 'pp_default') settings.horizontal_padding = 16;\n\t\t\t\n\t\t\t// Find out if the picture is part of a set\n\t\t\ttheRel = $(this).attr(settings.hook);\n\t\t\tgalleryRegExp = /\\[(?:.*)\\]/;\n\t\t\tisSet = (galleryRegExp.exec(theRel)) ? true : false;\n\t\t\t\n\t\t\t// Put the SRCs, TITLEs, ALTs into an array.\n\t\t\tpp_images = (isSet) ? jQuery.map(matchedObjects, function(n, i){ if($(n).attr(settings.hook).indexOf(theRel) != -1) return $(n).attr('href'); }) : $.makeArray($(this).attr('href'));\n\t\t\tpp_titles = (isSet) ? jQuery.map(matchedObjects, function(n, i){ if($(n).attr(settings.hook).indexOf(theRel) != -1) return ($(n).find('img').attr('alt')) ? $(n).find('img').attr('alt') : \"\"; }) : $.makeArray($(this).find('img').attr('alt'));\n\t\t\tpp_descriptions = (isSet) ? jQuery.map(matchedObjects, function(n, i){ if($(n).attr(settings.hook).indexOf(theRel) != -1) return ($(n).attr('title')) ? $(n).attr('title') : \"\"; }) : $.makeArray($(this).attr('title'));\n\t\t\t\n\t\t\tif(pp_images.length > settings.overlay_gallery_max) settings.overlay_gallery = false;\n\t\t\t\n\t\t\tset_position = jQuery.inArray($(this).attr('href'), pp_images); // Define where in the array the clicked item is positionned\n\t\t\trel_index = (isSet) ? set_position : $(\"a[\"+settings.hook+\"^='\"+theRel+\"']\").index($(this));\n\t\t\t\n\t\t\t_build_overlay(this); // Build the overlay {this} being the caller\n\t\t\t\n\t\t\tif(settings.allow_resize)\n\t\t\t\t$(window).bind('scroll.prettyphoto',function(){ _center_overlay(); });\n\t\t\t\n\t\t\t\n\t\t\t$.prettyPhoto.open();\n\t\t\t\n\t\t\treturn false;\n\t\t}\n\n\n\t\t/**\n\t\t* Opens the prettyPhoto modal box.\n\t\t* @param image {String,Array} Full path to the image to be open, can also be an array containing full images paths.\n\t\t* @param title {String,Array} The title to be displayed with the picture, can also be an array containing all the titles.\n\t\t* @param description {String,Array} The description to be displayed with the picture, can also be an array containing all the descriptions.\n\t\t*/\n\t\t$.prettyPhoto.open = function(event) {\n\t\t\tif(typeof settings == \"undefined\"){ // Means it's an API call, need to manually get the settings and set the variables\n\t\t\t\tsettings = pp_settings;\n\t\t\t\tpp_images = $.makeArray(arguments[0]);\n\t\t\t\tpp_titles = (arguments[1]) ? $.makeArray(arguments[1]) : $.makeArray(\"\");\n\t\t\t\tpp_descriptions = (arguments[2]) ? $.makeArray(arguments[2]) : $.makeArray(\"\");\n\t\t\t\tisSet = (pp_images.length > 1) ? true : false;\n\t\t\t\tset_position = (arguments[3])? arguments[3]: 0;\n\t\t\t\t_build_overlay(event.target); // Build the overlay {this} being the caller\n\t\t\t}\n\t\t\t\n\t\t\tif(settings.hideflash) $('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility','hidden'); // Hide the flash\n\n\t\t\t_checkPosition($(pp_images).size()); // Hide the next/previous links if on first or last images.\n\t\t\n\t\t\t$('.pp_loaderIcon').show();\n\t\t\n\t\t\tif(settings.deeplinking)\n\t\t\t\tsetHashtag();\n\t\t\n\t\t\t// Rebuild Facebook Like Button with updated href\n\t\t\tif(settings.social_tools){\n\t\t\t\tfacebook_like_link = settings.social_tools.replace('{location_href}', encodeURIComponent(location.href)); \n\t\t\t\t$pp_pic_holder.find('.pp_social').html(facebook_like_link);\n\t\t\t}\n\t\t\t\n\t\t\t// Fade the content in\n\t\t\tif($ppt.is(':hidden')) $ppt.css('opacity',0).show();\n\t\t\t$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);\n\n\t\t\t// Display the current position\n\t\t\t$pp_pic_holder.find('.currentTextHolder').text((set_position+1) + settings.counter_separator_label + $(pp_images).size());\n\n\t\t\t// Set the description\n\t\t\tif(typeof pp_descriptions[set_position] != 'undefined' && pp_descriptions[set_position] != \"\"){\n\t\t\t\t$pp_pic_holder.find('.pp_description').show().html(unescape(pp_descriptions[set_position]));\n\t\t\t}else{\n\t\t\t\t$pp_pic_holder.find('.pp_description').hide();\n\t\t\t}\n\t\t\t\n\t\t\t// Get the dimensions\n\t\t\tmovie_width = ( parseFloat(getParam('width',pp_images[set_position])) ) ? getParam('width',pp_images[set_position]) : settings.default_width.toString();\n\t\t\tmovie_height = ( parseFloat(getParam('height',pp_images[set_position])) ) ? getParam('height',pp_images[set_position]) : settings.default_height.toString();\n\t\t\t\n\t\t\t// If the size is % based, calculate according to window dimensions\n\t\t\tpercentBased=false;\n\t\t\tif(movie_height.indexOf('%') != -1) { movie_height = parseFloat(($(window).height() * parseFloat(movie_height) / 100) - 150); percentBased = true; }\n\t\t\tif(movie_width.indexOf('%') != -1) { movie_width = parseFloat(($(window).width() * parseFloat(movie_width) / 100) - 150); percentBased = true; }\n\t\t\t\n\t\t\t// Fade the holder\n\t\t\t$pp_pic_holder.fadeIn(function(){\n\t\t\t\t// Set the title\n\t\t\t\t(settings.show_title && pp_titles[set_position] != \"\" && typeof pp_titles[set_position] != \"undefined\") ? $ppt.html(unescape(pp_titles[set_position])) : $ppt.html('&nbsp;');\n\t\t\t\t\n\t\t\t\timgPreloader = \"\";\n\t\t\t\tskipInjection = false;\n\t\t\t\t\n\t\t\t\t// Inject the proper content\n\t\t\t\tswitch(_getFileType(pp_images[set_position])){\n\t\t\t\t\tcase 'image':\n\t\t\t\t\t\timgPreloader = new Image();\n\n\t\t\t\t\t\t// Preload the neighbour images\n\t\t\t\t\t\tnextImage = new Image();\n\t\t\t\t\t\tif(isSet && set_position < $(pp_images).size() -1) nextImage.src = pp_images[set_position + 1];\n\t\t\t\t\t\tprevImage = new Image();\n\t\t\t\t\t\tif(isSet && pp_images[set_position - 1]) prevImage.src = pp_images[set_position - 1];\n\n\t\t\t\t\t\t$pp_pic_holder.find('#pp_full_res')[0].innerHTML = settings.image_markup.replace(/{path}/g,pp_images[set_position]);\n\n\t\t\t\t\t\timgPreloader.onload = function(){\n\t\t\t\t\t\t\t// Fit item to viewport\n\t\t\t\t\t\t\tpp_dimensions = _fitToViewport(imgPreloader.width,imgPreloader.height);\n\n\t\t\t\t\t\t\t_showContent();\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\timgPreloader.onerror = function(){\n\t\t\t\t\t\t\talert('Image cannot be loaded. Make sure the path is correct and image exist.');\n\t\t\t\t\t\t\t$.prettyPhoto.close();\n\t\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\t\timgPreloader.src = pp_images[set_position];\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\t\tcase 'youtube':\n\t\t\t\t\t\tpp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Regular youtube link\n\t\t\t\t\t\tmovie_id = getParam('v',pp_images[set_position]);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// youtu.be link\n\t\t\t\t\t\tif(movie_id == \"\"){\n\t\t\t\t\t\t\tmovie_id = pp_images[set_position].split('youtu.be/');\n\t\t\t\t\t\t\tmovie_id = movie_id[1];\n\t\t\t\t\t\t\tif(movie_id.indexOf('?') > 0)\n\t\t\t\t\t\t\t\tmovie_id = movie_id.substr(0,movie_id.indexOf('?')); // Strip anything after the ?\n\n\t\t\t\t\t\t\tif(movie_id.indexOf('&') > 0)\n\t\t\t\t\t\t\t\tmovie_id = movie_id.substr(0,movie_id.indexOf('&')); // Strip anything after the &\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmovie = 'http://www.youtube.com/embed/'+movie_id;\n\t\t\t\t\t\t(getParam('rel',pp_images[set_position])) ? movie+=\"?rel=\"+getParam('rel',pp_images[set_position]) : movie+=\"?rel=1\";\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tif(settings.autoplay) movie += \"&autoplay=1\";\n\t\t\t\t\t\n\t\t\t\t\t\ttoInject = settings.iframe_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\t\tcase 'vimeo':\n\t\t\t\t\t\tpp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\n\t\t\t\t\t\n\t\t\t\t\t\tmovie_id = pp_images[set_position];\n\t\t\t\t\t\tvar regExp = /http(s?):\\/\\/(www\\.)?vimeo.com\\/(\\d+)/;\n\t\t\t\t\t\tvar match = movie_id.match(regExp);\n\t\t\t\t\t\t\n\t\t\t\t\t\tmovie = 'http://player.vimeo.com/video/'+ match[3] +'?title=0&amp;byline=0&amp;portrait=0';\n\t\t\t\t\t\tif(settings.autoplay) movie += \"&autoplay=1;\";\n\t\t\t\t\n\t\t\t\t\t\tvimeo_width = pp_dimensions['width'] + '/embed/?moog_width='+ pp_dimensions['width'];\n\t\t\t\t\n\t\t\t\t\t\ttoInject = settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,pp_dimensions['height']).replace(/{path}/g,movie);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\t\tcase 'quicktime':\n\t\t\t\t\t\tpp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\n\t\t\t\t\t\tpp_dimensions['height']+=15; pp_dimensions['contentHeight']+=15; pp_dimensions['containerHeight']+=15; // Add space for the control bar\n\t\t\t\t\n\t\t\t\t\t\ttoInject = settings.quicktime_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\t\tcase 'flash':\n\t\t\t\t\t\tpp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\n\t\t\t\t\t\n\t\t\t\t\t\tflash_vars = pp_images[set_position];\n\t\t\t\t\t\tflash_vars = flash_vars.substring(pp_images[set_position].indexOf('flashvars') + 10,pp_images[set_position].length);\n\n\t\t\t\t\t\tfilename = pp_images[set_position];\n\t\t\t\t\t\tfilename = filename.substring(0,filename.indexOf('?'));\n\t\t\t\t\t\n\t\t\t\t\t\ttoInject =  settings.flash_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+'?'+flash_vars);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\t\tcase 'iframe':\n\t\t\t\t\t\tpp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\n\t\t\t\t\n\t\t\t\t\t\tframe_url = pp_images[set_position];\n\t\t\t\t\t\tframe_url = frame_url.substr(0,frame_url.indexOf('iframe')-1);\n\n\t\t\t\t\t\ttoInject = settings.iframe_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{path}/g,frame_url);\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase 'ajax':\n\t\t\t\t\t\tdoresize = false; // Make sure the dimensions are not resized.\n\t\t\t\t\t\tpp_dimensions = _fitToViewport(movie_width,movie_height);\n\t\t\t\t\t\tdoresize = true; // Reset the dimensions\n\t\t\t\t\t\n\t\t\t\t\t\tskipInjection = true;\n\t\t\t\t\t\t$.get(pp_images[set_position],function(responseHTML){\n\t\t\t\t\t\t\ttoInject = settings.inline_markup.replace(/{content}/g,responseHTML);\n\t\t\t\t\t\t\t$pp_pic_holder.find('#pp_full_res')[0].innerHTML = toInject;\n\t\t\t\t\t\t\t_showContent();\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase 'custom':\n\t\t\t\t\t\tpp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\n\t\t\t\t\t\n\t\t\t\t\t\ttoInject = settings.custom_markup;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\t\tcase 'inline':\n\t\t\t\t\t\t// to get the item height clone it, apply default width, wrap it in the prettyPhoto containers , then delete\n\t\t\t\t\t\tmyClone = $(pp_images[set_position]).clone().append('<br clear=\"all\" />').css({'width':settings.default_width}).wrapInner('<div id=\"pp_full_res\"><div class=\"pp_inline\"></div></div>').appendTo($('body')).show();\n\t\t\t\t\t\tdoresize = false; // Make sure the dimensions are not resized.\n\t\t\t\t\t\tpp_dimensions = _fitToViewport($(myClone).width(),$(myClone).height());\n\t\t\t\t\t\tdoresize = true; // Reset the dimensions\n\t\t\t\t\t\t$(myClone).remove();\n\t\t\t\t\t\ttoInject = settings.inline_markup.replace(/{content}/g,$(pp_images[set_position]).html());\n\t\t\t\t\tbreak;\n\t\t\t\t};\n\n\t\t\t\tif(!imgPreloader && !skipInjection){\n\t\t\t\t\t$pp_pic_holder.find('#pp_full_res')[0].innerHTML = toInject;\n\t\t\t\t\n\t\t\t\t\t// Show content\n\t\t\t\t\t_showContent();\n\t\t\t\t};\n\t\t\t});\n\n\t\t\treturn false;\n\t\t};\n\n\t\n\t\t/**\n\t\t* Change page in the prettyPhoto modal box\n\t\t* @param direction {String} Direction of the paging, previous or next.\n\t\t*/\n\t\t$.prettyPhoto.changePage = function(direction){\n\t\t\tcurrentGalleryPage = 0;\n\t\t\t\n\t\t\tif(direction == 'previous') {\n\t\t\t\tset_position--;\n\t\t\t\tif (set_position < 0) set_position = $(pp_images).size()-1;\n\t\t\t}else if(direction == 'next'){\n\t\t\t\tset_position++;\n\t\t\t\tif(set_position > $(pp_images).size()-1) set_position = 0;\n\t\t\t}else{\n\t\t\t\tset_position=direction;\n\t\t\t};\n\t\t\t\n\t\t\trel_index = set_position;\n\n\t\t\tif(!doresize) doresize = true; // Allow the resizing of the images\n\t\t\tif(settings.allow_expand) {\n\t\t\t\t$('.pp_contract').removeClass('pp_contract').addClass('pp_expand');\n\t\t\t}\n\n\t\t\t_hideContent(function(){ $.prettyPhoto.open(); });\n\t\t};\n\n\n\t\t/**\n\t\t* Change gallery page in the prettyPhoto modal box\n\t\t* @param direction {String} Direction of the paging, previous or next.\n\t\t*/\n\t\t$.prettyPhoto.changeGalleryPage = function(direction){\n\t\t\tif(direction=='next'){\n\t\t\t\tcurrentGalleryPage ++;\n\n\t\t\t\tif(currentGalleryPage > totalPage) currentGalleryPage = 0;\n\t\t\t}else if(direction=='previous'){\n\t\t\t\tcurrentGalleryPage --;\n\n\t\t\t\tif(currentGalleryPage < 0) currentGalleryPage = totalPage;\n\t\t\t}else{\n\t\t\t\tcurrentGalleryPage = direction;\n\t\t\t};\n\t\t\t\n\t\t\tslide_speed = (direction == 'next' || direction == 'previous') ? settings.animation_speed : 0;\n\n\t\t\tslide_to = currentGalleryPage * (itemsPerPage * itemWidth);\n\n\t\t\t$pp_gallery.find('ul').animate({left:-slide_to},slide_speed);\n\t\t};\n\n\n\t\t/**\n\t\t* Start the slideshow...\n\t\t*/\n\t\t$.prettyPhoto.startSlideshow = function(){\n\t\t\tif(typeof pp_slideshow == 'undefined'){\n\t\t\t\t$pp_pic_holder.find('.pp_play').unbind('click').removeClass('pp_play').addClass('pp_pause').click(function(){\n\t\t\t\t\t$.prettyPhoto.stopSlideshow();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\tpp_slideshow = setInterval($.prettyPhoto.startSlideshow,settings.slideshow);\n\t\t\t}else{\n\t\t\t\t$.prettyPhoto.changePage('next');\t\n\t\t\t};\n\t\t}\n\n\n\t\t/**\n\t\t* Stop the slideshow...\n\t\t*/\n\t\t$.prettyPhoto.stopSlideshow = function(){\n\t\t\t$pp_pic_holder.find('.pp_pause').unbind('click').removeClass('pp_pause').addClass('pp_play').click(function(){\n\t\t\t\t$.prettyPhoto.startSlideshow();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tclearInterval(pp_slideshow);\n\t\t\tpp_slideshow=undefined;\n\t\t}\n\n\n\t\t/**\n\t\t* Closes prettyPhoto.\n\t\t*/\n\t\t$.prettyPhoto.close = function(){\n\t\t\tif($pp_overlay.is(\":animated\")) return;\n\t\t\t\n\t\t\t$.prettyPhoto.stopSlideshow();\n\t\t\t\n\t\t\t$pp_pic_holder.stop().find('object,embed').css('visibility','hidden');\n\t\t\t\n\t\t\t$('div.pp_pic_holder,div.ppt,.pp_fade').fadeOut(settings.animation_speed,function(){ $(this).remove(); });\n\t\t\t\n\t\t\t$pp_overlay.fadeOut(settings.animation_speed, function(){\n\t\t\t\t\n\t\t\t\tif(settings.hideflash) $('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility','visible'); // Show the flash\n\t\t\t\t\n\t\t\t\t$(this).remove(); // No more need for the prettyPhoto markup\n\t\t\t\t\n\t\t\t\t$(window).unbind('scroll.prettyphoto');\n\t\t\t\t\n\t\t\t\tclearHashtag();\n\t\t\t\t\n\t\t\t\tsettings.callback();\n\t\t\t\t\n\t\t\t\tdoresize = true;\n\t\t\t\t\n\t\t\t\tpp_open = false;\n\t\t\t\t\n\t\t\t\tdelete settings;\n\t\t\t});\n\t\t};\n\t\n\t\t/**\n\t\t* Set the proper sizes on the containers and animate the content in.\n\t\t*/\n\t\tfunction _showContent(){\n\t\t\t$('.pp_loaderIcon').hide();\n\n\t\t\t// Calculate the opened top position of the pic holder\n\t\t\tprojectedTop = scroll_pos['scrollTop'] + ((windowHeight/2) - (pp_dimensions['containerHeight']/2));\n\t\t\tif(projectedTop < 0) projectedTop = 0;\n\n\t\t\t$ppt.fadeTo(settings.animation_speed,1);\n\n\t\t\t// Resize the content holder\n\t\t\t$pp_pic_holder.find('.pp_content')\n\t\t\t\t.animate({\n\t\t\t\t\theight:pp_dimensions['contentHeight'],\n\t\t\t\t\twidth:pp_dimensions['contentWidth']\n\t\t\t\t},settings.animation_speed);\n\t\t\t\n\t\t\t// Resize picture the holder\n\t\t\t$pp_pic_holder.animate({\n\t\t\t\t'top': projectedTop,\n\t\t\t\t'left': ((windowWidth/2) - (pp_dimensions['containerWidth']/2) < 0) ? 0 : (windowWidth/2) - (pp_dimensions['containerWidth']/2),\n\t\t\t\twidth:pp_dimensions['containerWidth']\n\t\t\t},settings.animation_speed,function(){\n\t\t\t\t$pp_pic_holder.find('.pp_hoverContainer,#fullResImage').height(pp_dimensions['height']).width(pp_dimensions['width']);\n\n\t\t\t\t$pp_pic_holder.find('.pp_fade').fadeIn(settings.animation_speed); // Fade the new content\n\n\t\t\t\t// Show the nav\n\t\t\t\tif(isSet && _getFileType(pp_images[set_position])==\"image\") { $pp_pic_holder.find('.pp_hoverContainer').show(); }else{ $pp_pic_holder.find('.pp_hoverContainer').hide(); }\n\t\t\t\n\t\t\t\tif(settings.allow_expand) {\n\t\t\t\t\tif(pp_dimensions['resized']){ // Fade the resizing link if the image is resized\n\t\t\t\t\t\t$('a.pp_expand,a.pp_contract').show();\n\t\t\t\t\t}else{\n\t\t\t\t\t\t$('a.pp_expand').hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(settings.autoplay_slideshow && !pp_slideshow && !pp_open) $.prettyPhoto.startSlideshow();\n\t\t\t\t\n\t\t\t\tsettings.changepicturecallback(); // Callback!\n\t\t\t\t\n\t\t\t\tpp_open = true;\n\t\t\t});\n\t\t\t\n\t\t\t_insert_gallery();\n\t\t\tpp_settings.ajaxcallback();\n\t\t};\n\t\t\n\t\t/**\n\t\t* Hide the content...DUH!\n\t\t*/\n\t\tfunction _hideContent(callback){\n\t\t\t// Fade out the current picture\n\t\t\t$pp_pic_holder.find('#pp_full_res object,#pp_full_res embed').css('visibility','hidden');\n\t\t\t$pp_pic_holder.find('.pp_fade').fadeOut(settings.animation_speed,function(){\n\t\t\t\t$('.pp_loaderIcon').show();\n\t\t\t\t\n\t\t\t\tcallback();\n\t\t\t});\n\t\t};\n\t\n\t\t/**\n\t\t* Check the item position in the gallery array, hide or show the navigation links\n\t\t* @param setCount {integer} The total number of items in the set\n\t\t*/\n\t\tfunction _checkPosition(setCount){\n\t\t\t(setCount > 1) ? $('.pp_nav').show() : $('.pp_nav').hide(); // Hide the bottom nav if it's not a set.\n\t\t};\n\t\n\t\t/**\n\t\t* Resize the item dimensions if it's bigger than the viewport\n\t\t* @param width {integer} Width of the item to be opened\n\t\t* @param height {integer} Height of the item to be opened\n\t\t* @return An array containin the \"fitted\" dimensions\n\t\t*/\n\t\tfunction _fitToViewport(width,height){\n\t\t\tresized = false;\n\n\t\t\t_getDimensions(width,height);\n\t\t\t\n\t\t\t// Define them in case there's no resize needed\n\t\t\timageWidth = width, imageHeight = height;\n\n\t\t\tif( ((pp_containerWidth > windowWidth) || (pp_containerHeight > windowHeight)) && doresize && settings.allow_resize && !percentBased) {\n\t\t\t\tresized = true, fitting = false;\n\t\t\t\n\t\t\t\twhile (!fitting){\n\t\t\t\t\tif((pp_containerWidth > windowWidth)){\n\t\t\t\t\t\timageWidth = (windowWidth - 200);\n\t\t\t\t\t\timageHeight = (height/width) * imageWidth;\n\t\t\t\t\t}else if((pp_containerHeight > windowHeight)){\n\t\t\t\t\t\timageHeight = (windowHeight - 200);\n\t\t\t\t\t\timageWidth = (width/height) * imageHeight;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tfitting = true;\n\t\t\t\t\t};\n\n\t\t\t\t\tpp_containerHeight = imageHeight, pp_containerWidth = imageWidth;\n\t\t\t\t};\n\t\t\t\n\n\t\t\t\t\n\t\t\t\tif((pp_containerWidth > windowWidth) || (pp_containerHeight > windowHeight)){\n\t\t\t\t\t_fitToViewport(pp_containerWidth,pp_containerHeight)\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t_getDimensions(imageWidth,imageHeight);\n\t\t\t};\n\t\t\t\n\t\t\treturn {\n\t\t\t\twidth:Math.floor(imageWidth),\n\t\t\t\theight:Math.floor(imageHeight),\n\t\t\t\tcontainerHeight:Math.floor(pp_containerHeight),\n\t\t\t\tcontainerWidth:Math.floor(pp_containerWidth) + (settings.horizontal_padding * 2),\n\t\t\t\tcontentHeight:Math.floor(pp_contentHeight),\n\t\t\t\tcontentWidth:Math.floor(pp_contentWidth),\n\t\t\t\tresized:resized\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t* Get the containers dimensions according to the item size\n\t\t* @param width {integer} Width of the item to be opened\n\t\t* @param height {integer} Height of the item to be opened\n\t\t*/\n\t\tfunction _getDimensions(width,height){\n\t\t\twidth = parseFloat(width);\n\t\t\theight = parseFloat(height);\n\t\t\t\n\t\t\t// Get the details height, to do so, I need to clone it since it's invisible\n\t\t\t$pp_details = $pp_pic_holder.find('.pp_details');\n\t\t\t$pp_details.width(width);\n\t\t\tdetailsHeight = parseFloat($pp_details.css('marginTop')) + parseFloat($pp_details.css('marginBottom'));\n\t\t\t\n\t\t\t$pp_details = $pp_details.clone().addClass(settings.theme).width(width).appendTo($('body')).css({\n\t\t\t\t'position':'absolute',\n\t\t\t\t'top':-10000\n\t\t\t});\n\t\t\tdetailsHeight += $pp_details.height();\n\t\t\tdetailsHeight = (detailsHeight <= 34) ? 36 : detailsHeight; // Min-height for the details\n\t\t\t$pp_details.remove();\n\t\t\t\n\t\t\t// Get the titles height, to do so, I need to clone it since it's invisible\n\t\t\t$pp_title = $pp_pic_holder.find('.ppt');\n\t\t\t$pp_title.width(width);\n\t\t\ttitleHeight = parseFloat($pp_title.css('marginTop')) + parseFloat($pp_title.css('marginBottom'));\n\t\t\t$pp_title = $pp_title.clone().appendTo($('body')).css({\n\t\t\t\t'position':'absolute',\n\t\t\t\t'top':-10000\n\t\t\t});\n\t\t\ttitleHeight += $pp_title.height();\n\t\t\t$pp_title.remove();\n\t\t\t\n\t\t\t// Get the container size, to resize the holder to the right dimensions\n\t\t\tpp_contentHeight = height + detailsHeight;\n\t\t\tpp_contentWidth = width;\n\t\t\tpp_containerHeight = pp_contentHeight + titleHeight + $pp_pic_holder.find('.pp_top').height() + $pp_pic_holder.find('.pp_bottom').height();\n\t\t\tpp_containerWidth = width;\n\t\t}\n\t\n\t\tfunction _getFileType(itemSrc){\n\t\t\tif (itemSrc.match(/youtube\\.com\\/watch/i) || itemSrc.match(/youtu\\.be/i)) {\n\t\t\t\treturn 'youtube';\n\t\t\t}else if (itemSrc.match(/vimeo\\.com/i)) {\n\t\t\t\treturn 'vimeo';\n\t\t\t}else if(itemSrc.match(/\\b.mov\\b/i)){ \n\t\t\t\treturn 'quicktime';\n\t\t\t}else if(itemSrc.match(/\\b.swf\\b/i)){\n\t\t\t\treturn 'flash';\n\t\t\t}else if(itemSrc.match(/\\biframe=true\\b/i)){\n\t\t\t\treturn 'iframe';\n\t\t\t}else if(itemSrc.match(/\\bajax=true\\b/i)){\n\t\t\t\treturn 'ajax';\n\t\t\t}else if(itemSrc.match(/\\bcustom=true\\b/i)){\n\t\t\t\treturn 'custom';\n\t\t\t}else if(itemSrc.substr(0,1) == '#'){\n\t\t\t\treturn 'inline';\n\t\t\t}else{\n\t\t\t\treturn 'image';\n\t\t\t};\n\t\t};\n\t\n\t\tfunction _center_overlay(){\n\t\t\tif(doresize && typeof $pp_pic_holder != 'undefined') {\n\t\t\t\tscroll_pos = _get_scroll();\n\t\t\t\tcontentHeight = $pp_pic_holder.height(), contentwidth = $pp_pic_holder.width();\n\n\t\t\t\tprojectedTop = (windowHeight/2) + scroll_pos['scrollTop'] - (contentHeight/2);\n\t\t\t\tif(projectedTop < 0) projectedTop = 0;\n\t\t\t\t\n\t\t\t\tif(contentHeight > windowHeight)\n\t\t\t\t\treturn;\n\n\t\t\t\t$pp_pic_holder.css({\n\t\t\t\t\t'top': projectedTop,\n\t\t\t\t\t'left': (windowWidth/2) + scroll_pos['scrollLeft'] - (contentwidth/2)\n\t\t\t\t});\n\t\t\t};\n\t\t};\n\t\n\t\tfunction _get_scroll(){\n\t\t\tif (self.pageYOffset) {\n\t\t\t\treturn {scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};\n\t\t\t} else if (document.documentElement && document.documentElement.scrollTop) { // Explorer 6 Strict\n\t\t\t\treturn {scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};\n\t\t\t} else if (document.body) {// all other Explorers\n\t\t\t\treturn {scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft};\n\t\t\t};\n\t\t};\n\t\n\t\tfunction _resize_overlay() {\n\t\t\twindowHeight = $(window).height(), windowWidth = $(window).width();\n\t\t\t\n\t\t\tif(typeof $pp_overlay != \"undefined\") $pp_overlay.height($(document).height()).width(windowWidth);\n\t\t};\n\t\n\t\tfunction _insert_gallery(){\n\t\t\tif(isSet && settings.overlay_gallery && _getFileType(pp_images[set_position])==\"image\") {\n\t\t\t\titemWidth = 52+5; // 52 beign the thumb width, 5 being the right margin.\n\t\t\t\tnavWidth = (settings.theme == \"facebook\" || settings.theme == \"pp_default\") ? 50 : 30; // Define the arrow width depending on the theme\n\t\t\t\t\n\t\t\t\titemsPerPage = Math.floor((pp_dimensions['containerWidth'] - 100 - navWidth) / itemWidth);\n\t\t\t\titemsPerPage = (itemsPerPage < pp_images.length) ? itemsPerPage : pp_images.length;\n\t\t\t\ttotalPage = Math.ceil(pp_images.length / itemsPerPage) - 1;\n\n\t\t\t\t// Hide the nav in the case there's no need for links\n\t\t\t\tif(totalPage == 0){\n\t\t\t\t\tnavWidth = 0; // No nav means no width!\n\t\t\t\t\t$pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').hide();\n\t\t\t\t}else{\n\t\t\t\t\t$pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').show();\n\t\t\t\t};\n\n\t\t\t\tgalleryWidth = itemsPerPage * itemWidth;\n\t\t\t\tfullGalleryWidth = pp_images.length * itemWidth;\n\t\t\t\t\n\t\t\t\t// Set the proper width to the gallery items\n\t\t\t\t$pp_gallery\n\t\t\t\t\t.css('margin-left',-((galleryWidth/2) + (navWidth/2)))\n\t\t\t\t\t.find('div:first').width(galleryWidth+5)\n\t\t\t\t\t.find('ul').width(fullGalleryWidth)\n\t\t\t\t\t.find('li.selected').removeClass('selected');\n\t\t\t\t\n\t\t\t\tgoToPage = (Math.floor(set_position/itemsPerPage) < totalPage) ? Math.floor(set_position/itemsPerPage) : totalPage;\n\n\t\t\t\t$.prettyPhoto.changeGalleryPage(goToPage);\n\t\t\t\t\n\t\t\t\t$pp_gallery_li.filter(':eq('+set_position+')').addClass('selected');\n\t\t\t}else{\n\t\t\t\t$pp_pic_holder.find('.pp_content').unbind('mouseenter mouseleave');\n\t\t\t\t// $pp_gallery.hide();\n\t\t\t}\n\t\t}\n\t\n\t\tfunction _build_overlay(caller){\n\t\t\t// Inject Social Tool markup into General markup\n\t\t\tif(settings.social_tools)\n\t\t\t\tfacebook_like_link = settings.social_tools.replace('{location_href}', encodeURIComponent(location.href)); \n\n\t\t\tsettings.markup = settings.markup.replace('{pp_social}',''); \n\t\t\t\n\t\t\t$('body').append(settings.markup); // Inject the markup\n\t\t\t\n\t\t\t$pp_pic_holder = $('.pp_pic_holder') , $ppt = $('.ppt'), $pp_overlay = $('div.pp_overlay'); // Set my global selectors\n\t\t\t\n\t\t\t// Inject the inline gallery!\n\t\t\tif(isSet && settings.overlay_gallery) {\n\t\t\t\tcurrentGalleryPage = 0;\n\t\t\t\ttoInject = \"\";\n\t\t\t\tfor (var i=0; i < pp_images.length; i++) {\n\t\t\t\t\tif(!pp_images[i].match(/\\b(jpg|jpeg|png|gif)\\b/gi)){\n\t\t\t\t\t\tclassname = 'default';\n\t\t\t\t\t\timg_src = '';\n\t\t\t\t\t}else{\n\t\t\t\t\t\tclassname = '';\n\t\t\t\t\t\timg_src = pp_images[i];\n\t\t\t\t\t}\n\t\t\t\t\ttoInject += \"<li class='\"+classname+\"'><a href='#'><img src='\" + img_src + \"' width='50' alt='' /></a></li>\";\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\ttoInject = settings.gallery_markup.replace(/{gallery}/g,toInject);\n\t\t\t\t\n\t\t\t\t$pp_pic_holder.find('#pp_full_res').after(toInject);\n\t\t\t\t\n\t\t\t\t$pp_gallery = $('.pp_pic_holder .pp_gallery'), $pp_gallery_li = $pp_gallery.find('li'); // Set the gallery selectors\n\t\t\t\t\n\t\t\t\t$pp_gallery.find('.pp_arrow_next').click(function(){\n\t\t\t\t\t$.prettyPhoto.changeGalleryPage('next');\n\t\t\t\t\t$.prettyPhoto.stopSlideshow();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t$pp_gallery.find('.pp_arrow_previous').click(function(){\n\t\t\t\t\t$.prettyPhoto.changeGalleryPage('previous');\n\t\t\t\t\t$.prettyPhoto.stopSlideshow();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t$pp_pic_holder.find('.pp_content').hover(\n\t\t\t\t\tfunction(){\n\t\t\t\t\t\t$pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeIn();\n\t\t\t\t\t},\n\t\t\t\t\tfunction(){\n\t\t\t\t\t\t$pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeOut();\n\t\t\t\t\t});\n\n\t\t\t\titemWidth = 52+5; // 52 beign the thumb width, 5 being the right margin.\n\t\t\t\t$pp_gallery_li.each(function(i){\n\t\t\t\t\t$(this)\n\t\t\t\t\t\t.find('a')\n\t\t\t\t\t\t.click(function(){\n\t\t\t\t\t\t\t$.prettyPhoto.changePage(i);\n\t\t\t\t\t\t\t$.prettyPhoto.stopSlideshow();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\t\t\t\n\t\t\t\n\t\t\t// Inject the play/pause if it's a slideshow\n\t\t\tif(settings.slideshow){\n\t\t\t\t$pp_pic_holder.find('.pp_nav').prepend('<a href=\"#\" class=\"pp_play\">Play</a>')\n\t\t\t\t$pp_pic_holder.find('.pp_nav .pp_play').click(function(){\n\t\t\t\t\t$.prettyPhoto.startSlideshow();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t$pp_pic_holder.attr('class','pp_pic_holder ' + settings.theme); // Set the proper theme\n\t\t\t\n\t\t\t$pp_overlay\n\t\t\t\t.css({\n\t\t\t\t\t'opacity':0,\n\t\t\t\t\t'height':$(document).height(),\n\t\t\t\t\t'width':$(window).width()\n\t\t\t\t\t})\n\t\t\t\t.bind('click',function(){\n\t\t\t\t\tif(!settings.modal) $.prettyPhoto.close();\n\t\t\t\t});\n\n\t\t\t$('a.pp_close').bind('click',function(){ $.prettyPhoto.close(); return false; });\n\n\n\t\t\tif(settings.allow_expand) {\n\t\t\t\t$('a.pp_expand').bind('click',function(e){\n\t\t\t\t\t// Expand the image\n\t\t\t\t\tif($(this).hasClass('pp_expand')){\n\t\t\t\t\t\t$(this).removeClass('pp_expand').addClass('pp_contract');\n\t\t\t\t\t\tdoresize = false;\n\t\t\t\t\t}else{\n\t\t\t\t\t\t$(this).removeClass('pp_contract').addClass('pp_expand');\n\t\t\t\t\t\tdoresize = true;\n\t\t\t\t\t};\n\t\t\t\t\n\t\t\t\t\t_hideContent(function(){ $.prettyPhoto.open(); });\n\t\t\t\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\t$pp_pic_holder.find('.pp_previous, .pp_nav .pp_arrow_previous').bind('click',function(){\n\t\t\t\t$.prettyPhoto.changePage('previous');\n\t\t\t\t$.prettyPhoto.stopSlideshow();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\n\t\t\t$pp_pic_holder.find('.pp_next, .pp_nav .pp_arrow_next').bind('click',function(){\n\t\t\t\t$.prettyPhoto.changePage('next');\n\t\t\t\t$.prettyPhoto.stopSlideshow();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\t\n\t\t\t_center_overlay(); // Center it\n\t\t};\n\n\t\tif(!pp_alreadyInitialized && getHashtag()){\n\t\t\tpp_alreadyInitialized = true;\n\t\t\t\n\t\t\t// Grab the rel index to trigger the click on the correct element\n\t\t\thashIndex = getHashtag();\n\t\t\thashRel = hashIndex;\n\t\t\thashIndex = hashIndex.substring(hashIndex.indexOf('/')+1,hashIndex.length-1);\n\t\t\thashRel = hashRel.substring(0,hashRel.indexOf('/'));\n\n\t\t\t// Little timeout to make sure all the prettyPhoto initialize scripts has been run.\n\t\t\t// Useful in the event the page contain several init scripts.\n\t\t\tsetTimeout(function(){ $(\"a[\"+pp_settings.hook+\"^='\"+hashRel+\"']:eq(\"+hashIndex+\")\").trigger('click'); },50);\n\t\t}\n\t\t\n\t\treturn this.unbind('click.prettyphoto').bind('click.prettyphoto',$.prettyPhoto.initialize); // Return the jQuery object for chaining. The unbind method is used to avoid click conflict when the plugin is called more than once\n\t};\n\t\n\tfunction getHashtag(){\n\t\tvar url = location.href;\n\t\thashtag = (url.indexOf('#prettyPhoto') !== -1) ? decodeURI(url.substring(url.indexOf('#prettyPhoto')+1,url.length)) : false;\n\t\tif(hashtag){  hashtag = hashtag.replace(/<|>/g,''); }\n\t\treturn hashtag;\n\t};\n\t\n\tfunction setHashtag(){\n\t\tif(typeof theRel == 'undefined') return; // theRel is set on normal calls, it's impossible to deeplink using the API\n\t\tlocation.hash = theRel + '/'+rel_index+'/';\n\t};\n\t\n\tfunction clearHashtag(){\n\t\tif ( location.href.indexOf('#prettyPhoto') !== -1 ) location.hash = \"prettyPhoto\";\n\t}\n\t\n\tfunction getParam(name,url){\n\t  name = name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\n\t  var regexS = \"[\\\\?&]\"+name+\"=([^&#]*)\";\n\t  var regex = new RegExp( regexS );\n\t  var results = regex.exec( url );\n\t  return ( results == null ) ? \"\" : results[1];\n\t}\n\t\n})(jQuery);\n\nvar pp_alreadyInitialized = false; // Used for the deep linking to make sure not to call the same function several times.\n"],"sourceRoot":"assets/scripts/"}